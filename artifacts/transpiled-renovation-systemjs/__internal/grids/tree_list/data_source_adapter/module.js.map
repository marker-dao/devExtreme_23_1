{"version":3,"sources":["../../../../../transpiled-renovation/__internal/grids/tree_list/data_source_adapter/module.js"],"names":["Object","defineProperty","exports","value","default","_common","require","_type","_iterator","_data","_extend","_array_utils","_array_store","_interopRequireDefault","_query","_deferred","_store_helper","_uiGrid_core","_uiGrid_core2","_ui","_module_core","obj","__esModule","queryByOptions","DEFAULT_KEY_EXPRESSION","isFullBranchFilterMode","that","option","DataSourceAdapterTreeList","inherit","getChildKeys","keys","childKeys","forEach","key","node","getNodeByKey","children","child","push","_createKeyGetter","keyExpr","getKeyExpr","compileGetter","_createKeySetter","isFunction","compileSetter","createParentIdGetter","createParentIdSetter","parentIdExpr","_createItemsGetter","_createHasItemsGetter","hasItemsExpr","_createHasItemsSetter","_updateIndexByKeyObject","items","_indexByKey","each","index","item","_calculateHasItems","options","parentIds","storeLoadOptions","hasItems","isFullBranch","_hasItemsGetter","filter","data","undefined","_isChildrenLoaded","remoteOperations","filtering","loadOptions","length","hasChildren","_fillVisibleItemsByNodes","nodes","result","i","visible","isRowExpanded","_convertItemToNode","rootValue","nodeByKey","_keyGetter","parentId","_parentIdGetter","isDefined","parentNode","parent","_createNodesByItems","visibleItems","visibleByKey","_nodeByKey","rootNode","level","_convertDataToPlainStructure","_itemsGetter","isConverted","createObjectWithChanges","_keySetter","_parentIdSetter","childItems","itemsExpr","_createIdFilter","field","parentIdFilters","combineFilters","_customizeRemoteOperations","operationTypes","callBase","apply","arguments","paging","expandVisibleNodes","sorting","_lastLoadOptions","isCustomLoading","_isReload","reload","cachedStoreData","collapseVisibleNodes","_getParentIdsToLoad","parentIdsToLoad","_handleCustomizeStoreLoadOptions","expandedRowKeys","concat","cachedPagingData","mergeStoreLoadData","delay","_generateInfoToLoad","needChildren","keyMap","resultKeyMap","resultKeys","needToLoad","_loadParentsOrChildren","_this","needLocalFiltering","_that$_generateInfoTo","d","Deferred","isRemoteFiltering","maxFilterLengthInRequest","concatLoadedData","loadedData","_cachedStoreData","resolve","cachedNodes","map","id","reduce","filterLength","encodeURI","JSON","stringify","itemData","extend","store","fullData","_dataSource","loadFromStore","done","toArray","fail","reject","_loadParents","_loadChildrenIfNeed","when","_updateHasItemsMap","_getKeyInfo","keyOf","_processChanges","changes","_this2","processedChanges","change","type","_applyInsert","_applyRemove","_handleChanging","e","_this3","processChanges","changesToProcess","postProcessChanges","_applyBatch","_setHasItems","hasItemsSetter","_hasItemsSetter","baseChanges","parentKeyOf","indexOf","Math","min","_needToCopyDataObject","splice","getChildNodeKeys","_handleDataLoaded","sort","_fillNodes","needToExpand","foreachNodes","_processTreeStructure","_rootNode","Error","_isNodesInitializing","executeAction","root","resultData","_totalItemsCount","_handleDataLoadedCore","filterMode","needLoadParents","call","_handlePush","_ref","reshapeOnPush","_reshapeOnPush","isNeedReshape","_a","init","dataSource","dataStructure","createAction","equalByValue","getRootNode","totalItemsCount","_totalCountCorrection","cache","isExpandedByKey","indexExpandedNodeKey","getIndexByKey","_changeRowExpandCore","slice","changeRowExpand","load","getNodeLeafKeys","childNode","parentKey","childrenKeys","loadDescendants","childrenOnly","Array","isArray","_createStoreLoadOptions","promise","forEachNode","callback","_default","extender","create","component"],"mappings":"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","file":"module.js"}