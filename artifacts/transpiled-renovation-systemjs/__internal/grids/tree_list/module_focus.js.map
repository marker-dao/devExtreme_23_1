{"version":3,"sources":["../../../../transpiled-renovation/__internal/grids/tree_list/module_focus.js"],"names":["_extend","require","_deferred","_uiGrid_core","_module_core","_interopRequireDefault","obj","__esModule","default","findIndex","items","callback","result","forEach","node","index","registerModule","extend","focusModule","extenders","controllers","data","changeRowExpand","key","option","isRowExpanded","_isFocusedRowInside","callBase","apply","arguments","parentKey","focusedRowKey","rowIndex","getRowIndexByKey","focusedRow","getVisibleRows","parent","getParentKey","that","dataSource","_dataSource","getNodeByKey","d","Deferred","resolve","undefined","load","filter","getKeyExpr","done","parentData","parentKeyOf","reject","fail","promise","expandAscendants","_isNodesInitializing","expandRow","getPageIndexByKey","parentIds","nodes","offset","keyOf","pageIndex","Math","floor","pageSize"],"mappings":"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","file":"module_focus.js"}