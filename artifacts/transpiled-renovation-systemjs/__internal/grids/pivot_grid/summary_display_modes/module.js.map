{"version":3,"sources":["../../../../../transpiled-renovation/__internal/grids/pivot_grid/summary_display_modes/module.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","Cell","applyDisplaySummaryMode","applyRunningTotal","createMockSummaryCell","default","getExpression","summaryDictionary","_type","require","_extend","_module_widget_utils","_interopRequireWildcard","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","COLUMN","ROW","NULL","calculatePercentValue","totalValue","result","isDefined","isNaN","_percentOfGrandTotal","percentOfGrandTotal","e","dimension","grandTotal","percentOfParent","parent","parentValue","createAbsoluteVariationExp","allowCrossGroup","prevCell","prev","prevValue","createPercentVariationExp","absoluteExp","absVar","percentOfColumnTotal","percentOfRowTotal","percentOfColumnGrandTotal","percentOfRowGrandTotal","getPrevCellCrossGroup","cell","direction","undefined","createRunningTotalExpr","field","runningTotal","allowCrossGroupCalculation","createCache","fields","positions","getFieldPos","descriptions","fieldParams","index","isObject","allFields","columns","concat","rows","values","fieldIndex","findField","area","indexOf","getPathFieldName","SummaryCell","columnPath","rowPath","data","fieldsCache","_columnPath","_rowPath","_fieldIndex","_fieldsCache","_data","_descriptions","originalCell","slice","postProcessedFlags","_cell","extend","_getPath","_getDimension","_createCell","config","that","path","shift","length","children","item","cellConfig","i","push","dimensionPath","pathFieldName","next","currentPath","siblings","child","fieldValue","childLevelField","fieldPos","sliceCell","newPath","level","childItems","currentValue","childIndex","arg1","arg2","fistArgIsBoolean","needCalculatedValue","isPostProcessed","summaryDisplayMode","crossGroupCalculation","expression","isFunction","calculateSummaryValue","format","setFieldProperty","processDataCell","rowIndex","columnIndex","isRunningTotalCalculation","allowResetting","expressions","columnElements","grandTotalColumnIndex","rowElements","grandTotalRowIndex","valueFields","foreachTree","isEmpty","rowItem","columnItem","isEmptyCell","expressionArg","isEmptyGrandTotalRow","isEmptyGrandTotalColumn","indices","summaryCell","fieldId","_default"],"mappings":"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","file":"module.js"}