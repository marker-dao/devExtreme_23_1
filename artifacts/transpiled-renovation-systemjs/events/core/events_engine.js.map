{"version":3,"sources":["../../../transpiled-renovation/events/core/events_engine.js"],"names":["exports","default","_event_registrator_callbacks","_interopRequireDefault","require","_extend","_dom_adapter","_window","_dependency_injector","_type","_callbacks","_errors","_hook_touch_props","_call_once","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_extends","Object","assign","bind","target","i","arguments","length","source","key","hasOwnProperty","call","apply","window","getWindow","EMPTY_EVENT_NAME","NATIVE_EVENTS_TO_SUBSCRIBE","NATIVE_EVENTS_TO_TRIGGER","NO_BUBBLE_EVENTS","forcePassiveFalseEventNames","EVENT_PROPERTIES","matchesSafe","selector","isWindow","nodeName","elementMatches","elementDataMap","WeakMap","guid","skipEvent","special","specialData","add","eventName","eventObject","getField","field","callMethod","methodName","context","args","eventsEngine","on","getHandler","normalizeOnArguments","iterate","element","data","handler","handlersController","getHandlersController","addHandler","one","oneTimeHandler","off","normalizeOffArguments","removeHandler","trigger","normalizeTriggerArguments","event","extraParameters","type","callHandlers","noBubble","isPropagationStopped","indexOf","parents","getParents","_element$parentNode","parent","parentNode","host","push","parentDataByEvent","extend","currentTarget","nodeType","callNativeMethod","triggerHandler","applyForEach","method","isNode","isString","itemArgs","Array","slice","forEach","itemElement","Error","detectPassiveEventHandlersSupport","isSupported","options","defineProperty","get","addEventListener","e","passiveEventHandlersSupported","contains","container","document","compareDocumentPosition","DOCUMENT_POSITION_CONTAINS","elementData","eventNameParts","split","namespaces","eventNameIsDefined","set","handleObjects","nativeHandler","eventData","callHandler","handlerArgs","relatedTarget","secondaryTargetIsInside","result","undefined","preventDefault","stopPropagation","wrappedHandler","delegateTarget","handleObject","namespace","join","firstHandlerForTheType","shouldAddNativeListener","nativeListenerOptions","getNativeHandler","passive","removeListener","listen","removeByEventName","removedHandler","filter","skip","isSubset","lastHandlerForTheType","shouldRemoveNativeListener","name","elementDataIsEmpty","keys","delete","forceStop","handleCallback","isImmediatePropagationStopped","subscribeName","Event","original","checked","callback","src","originalEvent","normalizeEventArguments","config","_propagationStopped","_immediatePropagationStopped","_defaultPrevented","propagationStopped","stopImmediatePropagation","isDefaultPrevented","defaultPrevented","iterateEventNames","nativeMethodName","isLinkClickEvent","localName","isFunction","calculateWhich","setForMouseEvent","mouseEventRegex","which","button","test","setForKeyEvent","charCode","keyCode","whichByButton","initEvent","EventClass","_src$view","srcIsEvent","hasWindow","view","isTrusted","timeStamp","Date","now","addProperty","pageX","pageY","propName","hook","eventInstance","enumerable","configurable","value","writable","prop","beforeSetStrategy","afterSetStrategy","engine","fire","inject","subscribeGlobal","offArgs","splice","_default","module"],"mappings":";;;;;AAAA;;;;AAEAA,UAAQC,OAAR,GAAkB,KAAK,CAAvB;AACA,MAAIC,+BAA+BC,uBAAuBC,WAAQ,+BAAR,CAAvB,CAAnC;AACA,MAAIC,UAAUD,WAAQ,yBAAR,CAAd;AACA,MAAIE,eAAeH,uBAAuBC,WAAQ,wBAAR,CAAvB,CAAnB;AACA,MAAIG,UAAUH,WAAQ,yBAAR,CAAd;AACA,MAAII,uBAAuBL,uBAAuBC,WAAQ,sCAAR,CAAvB,CAA3B;AACA,MAAIK,QAAQL,WAAQ,uBAAR,CAAZ;AACA,MAAIM,aAAaP,uBAAuBC,WAAQ,4BAAR,CAAvB,CAAjB;AACA,MAAIO,UAAUR,uBAAuBC,WAAQ,mBAAR,CAAvB,CAAd;AACA,MAAIQ,oBAAoBT,uBAAuBC,WAAQ,oCAAR,CAAvB,CAAxB;AACA,MAAIS,aAAaV,uBAAuBC,WAAQ,4BAAR,CAAvB,CAAjB;AACA,WAASD,sBAAT,CAAgCW,GAAhC,EAAqC;AAAE,WAAOA,OAAOA,IAAIC,UAAX,GAAwBD,GAAxB,GAA8B,EAAEb,SAASa,GAAX,EAArC;AAAwD;AAC/F,WAASE,OAAT,CAAiBF,GAAjB,EAAsB;AAAE;AAA2B,WAAOE,UAAU,cAAc,OAAOC,MAArB,IAA+B,YAAY,OAAOA,OAAOC,QAAzD,GAAoE,UAAUJ,GAAV,EAAe;AAAE,aAAO,OAAOA,GAAd;AAAoB,KAAzG,GAA4G,UAAUA,GAAV,EAAe;AAAE,aAAOA,OAAO,cAAc,OAAOG,MAA5B,IAAsCH,IAAIK,WAAJ,KAAoBF,MAA1D,IAAoEH,QAAQG,OAAOG,SAAnF,GAA+F,QAA/F,GAA0G,OAAON,GAAxH;AAA8H,KAArQ,EAAuQE,QAAQF,GAAR,CAA9Q;AAA6R;AAChV,WAASO,QAAT,GAAoB;AAAEA,eAAWC,OAAOC,MAAP,GAAgBD,OAAOC,MAAP,CAAcC,IAAd,EAAhB,GAAuC,UAAUC,MAAV,EAAkB;AAAE,WAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIC,UAAUC,MAA9B,EAAsCF,GAAtC,EAA2C;AAAE,YAAIG,SAASF,UAAUD,CAAV,CAAb,CAA2B,KAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,cAAIP,OAAOF,SAAP,CAAiBW,cAAjB,CAAgCC,IAAhC,CAAqCH,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,mBAAOK,GAAP,IAAcD,OAAOC,GAAP,CAAd;AAA4B;AAAE;AAAE,OAAC,OAAOL,MAAP;AAAgB,KAAlR,CAAoR,OAAOJ,SAASY,KAAT,CAAe,IAAf,EAAqBN,SAArB,CAAP;AAAyC;AACnV,MAAIO,SAAS,CAAC,GAAG3B,QAAQ4B,SAAZ,GAAb;AACA,MAAIC,mBAAmB,kBAAvB;AACA,MAAIC,6BAA6B;AAC/B,kBAAc,WADiB;AAE/B,kBAAc,UAFiB;AAG/B,oBAAgB,aAHe;AAI/B,oBAAgB;AAJe,GAAjC;AAMA,MAAIC,2BAA2B;AAC7B,eAAW,OADkB;AAE7B,gBAAY;AAFiB,GAA/B;AAIA,MAAIC,mBAAmB,CAAC,MAAD,EAAS,OAAT,EAAkB,MAAlB,CAAvB;AACA,MAAIC,8BAA8B,CAAC,WAAD,EAAc,OAAd,EAAuB,YAAvB,EAAqC,YAArC,CAAlC;AACA,MAAIC,mBAAmB,CAAC,QAAD,EAAW,eAAX,EAA4B,gBAA5B,EAA8C,QAA9C,EAAwD,SAAxD,EAAmE,YAAnE,EAAiF,gBAAjF,EAAmG,SAAnG,EAA8G,QAA9G,EAAwH,YAAxH,EAAsI,SAAtI,EAAiJ,UAAjJ,EAA6J,MAA7J,EAAqK,MAArK,EAA6K,MAA7K,EAAqL,UAArL,EAAiM,KAAjM,EAAwM,SAAxM,EAAmN,QAAnN,EAA6N,SAA7N,EAAwO,SAAxO,EAAmP,SAAnP,EAA8P,WAA9P,EAA2Q,aAA3Q,EAA0R,eAA1R,EAA2S,WAA3S,EAAwT,SAAxT,CAAvB;AACA,WAASC,WAAT,CAAqBjB,MAArB,EAA6BkB,QAA7B,EAAuC;AACrC,WAAO,CAAC,CAAC,GAAGlC,MAAMmC,QAAV,EAAoBnB,MAApB,CAAD,IAAgCA,OAAOoB,QAAP,KAAoB,WAApD,IAAmEvC,aAAaL,OAAb,CAAqB6C,cAArB,CAAoCrB,MAApC,EAA4CkB,QAA5C,CAA1E;AACD;AACD,MAAII,iBAAiB,IAAIC,OAAJ,EAArB;AACA,MAAIC,OAAO,CAAX;AACA,MAAIC,SAAJ;AACA,MAAIC,UAAU,YAAY;AACxB,QAAIC,cAAc,EAAlB;AACAlD,iCAA6BD,OAA7B,CAAqCoD,GAArC,CAAyC,UAAUC,SAAV,EAAqBC,WAArB,EAAkC;AACzEH,kBAAYE,SAAZ,IAAyBC,WAAzB;AACD,KAFD;AAGA,WAAO;AACLC,gBAAU,SAASA,QAAT,CAAkBF,SAAlB,EAA6BG,KAA7B,EAAoC;AAC5C,eAAOL,YAAYE,SAAZ,KAA0BF,YAAYE,SAAZ,EAAuBG,KAAvB,CAAjC;AACD,OAHI;AAILC,kBAAY,SAASA,UAAT,CAAoBJ,SAApB,EAA+BK,UAA/B,EAA2CC,OAA3C,EAAoDC,IAApD,EAA0D;AACpE,eAAOT,YAAYE,SAAZ,KAA0BF,YAAYE,SAAZ,EAAuBK,UAAvB,CAA1B,IAAgEP,YAAYE,SAAZ,EAAuBK,UAAvB,EAAmC1B,KAAnC,CAAyC2B,OAAzC,EAAkDC,IAAlD,CAAvE;AACD;AANI,KAAP;AAQD,GAba,EAAd;AAcA,MAAIC,eAAe,CAAC,GAAGtD,qBAAqBP,OAAzB,EAAkC;AACnD8D,QAAIC,WAAWC,qBAAqBC,QAAQ,UAAUC,OAAV,EAAmBb,SAAnB,EAA8BX,QAA9B,EAAwCyB,IAAxC,EAA8CC,OAA9C,EAAuD;AACjG,UAAIC,qBAAqBC,sBAAsBJ,OAAtB,EAA+Bb,SAA/B,CAAzB;AACAgB,yBAAmBE,UAAnB,CAA8BH,OAA9B,EAAuC1B,QAAvC,EAAiDyB,IAAjD;AACD,KAHmC,CAArB,CAAX,CAD+C;AAKnDK,SAAKT,WAAWC,qBAAqB,UAAUE,OAAV,EAAmBb,SAAnB,EAA8BX,QAA9B,EAAwCyB,IAAxC,EAA8CC,OAA9C,EAAuD;AAC1F,UAAIK,iBAAiB,SAASA,cAAT,GAA0B;AAC7CZ,qBAAaa,GAAb,CAAiBR,OAAjB,EAA0Bb,SAA1B,EAAqCX,QAArC,EAA+C+B,cAA/C;AACAL,gBAAQpC,KAAR,CAAc,IAAd,EAAoBN,SAApB;AACD,OAHD;AAIAmC,mBAAaC,EAAb,CAAgBI,OAAhB,EAAyBb,SAAzB,EAAoCX,QAApC,EAA8CyB,IAA9C,EAAoDM,cAApD;AACD,KANe,CAAX,CAL8C;AAYnDC,SAAKX,WAAWY,sBAAsBV,QAAQ,UAAUC,OAAV,EAAmBb,SAAnB,EAA8BX,QAA9B,EAAwC0B,OAAxC,EAAiD;AAC7F,UAAIC,qBAAqBC,sBAAsBJ,OAAtB,EAA+Bb,SAA/B,CAAzB;AACAgB,yBAAmBO,aAAnB,CAAiCR,OAAjC,EAA0C1B,QAA1C;AACD,KAHqC,CAAtB,CAAX,CAZ8C;AAgBnDmC,aAASd,WAAWe,0BAA0B,UAAUZ,OAAV,EAAmBa,KAAnB,EAA0BC,eAA1B,EAA2C;AACvF,UAAI3B,YAAY0B,MAAME,IAAtB;AACA,UAAIZ,qBAAqBC,sBAAsBJ,OAAtB,EAA+Ba,MAAME,IAArC,CAAzB;AACA/B,cAAQO,UAAR,CAAmBJ,SAAnB,EAA8B,SAA9B,EAAyCa,OAAzC,EAAkD,CAACa,KAAD,EAAQC,eAAR,CAAlD;AACAX,yBAAmBa,YAAnB,CAAgCH,KAAhC,EAAuCC,eAAvC;AACA,UAAIG,WAAWjC,QAAQK,QAAR,CAAiBF,SAAjB,EAA4B,UAA5B,KAA2C0B,MAAMK,oBAAN,EAA3C,IAA2E9C,iBAAiB+C,OAAjB,CAAyBhC,SAAzB,MAAwC,CAAC,CAAnI;AACA,UAAI,CAAC8B,QAAL,EAAe;AACb,YAAIG,UAAU,EAAd;AACA,YAAIC,aAAa,SAASA,UAAT,CAAoBrB,OAApB,EAA6B;AAC5C,cAAIsB,mBAAJ;AACA,cAAIC,SAAS,CAACD,sBAAsBtB,QAAQwB,UAA/B,MAA+C,IAA/C,IAAuDF,wBAAwB,KAAK,CAApF,GAAwFA,mBAAxF,GAA8GtB,QAAQyB,IAAnI;AACA,cAAIF,MAAJ,EAAY;AACVH,oBAAQM,IAAR,CAAaH,MAAb;AACAF,uBAAWE,MAAX;AACD;AACF,SAPD;AAQAF,mBAAWrB,OAAX;AACAoB,gBAAQM,IAAR,CAAa3D,MAAb;AACA,YAAIR,IAAI,CAAR;AACA,eAAO6D,QAAQ7D,CAAR,KAAc,CAACsD,MAAMK,oBAAN,EAAtB,EAAoD;AAClD,cAAIS,oBAAoBvB,sBAAsBgB,QAAQ7D,CAAR,CAAtB,EAAkCsD,MAAME,IAAxC,CAAxB;AACAY,4BAAkBX,YAAlB,CAA+B,CAAC,GAAG9E,QAAQ0F,MAAZ,EAAoBf,KAApB,EAA2B;AACxDgB,2BAAeT,QAAQ7D,CAAR;AADyC,WAA3B,CAA/B,EAEIuD,eAFJ;AAGAvD;AACD;AACF;AACD,UAAIyC,QAAQ8B,QAAR,IAAoB,CAAC,GAAGxF,MAAMmC,QAAV,EAAoBuB,OAApB,CAAxB,EAAsD;AACpDhB,gBAAQO,UAAR,CAAmBJ,SAAnB,EAA8B,UAA9B,EAA0Ca,OAA1C,EAAmD,CAACa,KAAD,EAAQC,eAAR,CAAnD;AACAiB,yBAAiB5C,SAAjB,EAA4Ba,OAA5B;AACD;AACF,KA/BmB,CAAX,CAhB0C;AAgDnDgC,oBAAgBnC,WAAWe,0BAA0B,UAAUZ,OAAV,EAAmBa,KAAnB,EAA0BC,eAA1B,EAA2C;AAC9F,UAAIX,qBAAqBC,sBAAsBJ,OAAtB,EAA+Ba,MAAME,IAArC,CAAzB;AACAZ,yBAAmBa,YAAnB,CAAgCH,KAAhC,EAAuCC,eAAvC;AACD,KAH0B,CAAX;AAhDmC,GAAlC,CAAnB;AAqDA,WAASmB,YAAT,CAAsBvC,IAAtB,EAA4BwC,MAA5B,EAAoC;AAClC,QAAIlC,UAAUN,KAAK,CAAL,CAAd;AACA,QAAI,CAACM,OAAL,EAAc;AACZ;AACD;AACD,QAAI7D,aAAaL,OAAb,CAAqBqG,MAArB,CAA4BnC,OAA5B,KAAwC,CAAC,GAAG1D,MAAMmC,QAAV,EAAoBuB,OAApB,CAA5C,EAA0E;AACxEkC,aAAOpE,KAAP,CAAa6B,YAAb,EAA2BD,IAA3B;AACD,KAFD,MAEO,IAAI,CAAC,CAAC,GAAGpD,MAAM8F,QAAV,EAAoBpC,OAApB,CAAD,IAAiC,YAAYA,OAAjD,EAA0D;AAC/D,UAAIqC,WAAWC,MAAMrF,SAAN,CAAgBsF,KAAhB,CAAsB1E,IAAtB,CAA2B6B,IAA3B,EAAiC,CAAjC,CAAf;AACA4C,YAAMrF,SAAN,CAAgBuF,OAAhB,CAAwB3E,IAAxB,CAA6BmC,OAA7B,EAAsC,UAAUyC,WAAV,EAAuB;AAC3DJ,iBAAS,CAAT,IAAcI,WAAd;AACAR,qBAAaI,QAAb,EAAuBH,MAAvB;AACD,OAHD;AAID,KANM,MAMA;AACL,YAAM1F,QAAQV,OAAR,CAAgB4G,KAAhB,CAAsB,OAAtB,CAAN;AACD;AACF;AACD,WAAS7C,UAAT,CAAoBqC,MAApB,EAA4B;AAC1B,WAAO,YAAY;AACjBD,mBAAazE,SAAb,EAAwB0E,MAAxB;AACD,KAFD;AAGD;AACD,WAASS,iCAAT,GAA6C;AAC3C,QAAIC,cAAc,KAAlB;AACA,QAAI;AACF,UAAIC,UAAU1F,OAAO2F,cAAP,CAAsB,EAAtB,EAA0B,SAA1B,EAAqC;AACjDC,aAAK,SAASA,GAAT,GAAe;AAClBH,wBAAc,IAAd;AACA,iBAAO,IAAP;AACD;AAJgD,OAArC,CAAd;AAMA7E,aAAOiF,gBAAP,CAAwB,MAAxB,EAAgC,IAAhC,EAAsCH,OAAtC;AACD,KARD,CAQE,OAAOI,CAAP,EAAU,CAAE;AACd,WAAOL,WAAP;AACD;AACD,MAAIM,gCAAgC,CAAC,GAAGxG,WAAWZ,OAAf,EAAwB6G,iCAAxB,CAApC;AACA,MAAIQ,WAAW,SAASA,QAAT,CAAkBC,SAAlB,EAA6BpD,OAA7B,EAAsC;AACnD,QAAI,CAAC,GAAG1D,MAAMmC,QAAV,EAAoB2E,SAApB,CAAJ,EAAoC;AAClC,aAAOD,SAASC,UAAUC,QAAnB,EAA6BrD,OAA7B,CAAP;AACD;AACD,WAAOoD,UAAUD,QAAV,GAAqBC,UAAUD,QAAV,CAAmBnD,OAAnB,CAArB,GAAmD,CAAC,EAAEA,QAAQsD,uBAAR,CAAgCF,SAAhC,IAA6CpD,QAAQuD,0BAAvD,CAA3D;AACD,GALD;AAMA,WAASnD,qBAAT,CAA+BJ,OAA/B,EAAwCb,SAAxC,EAAmD;AACjD,QAAIqE,cAAc5E,eAAemE,GAAf,CAAmB/C,OAAnB,CAAlB;AACAb,gBAAYA,aAAa,EAAzB;AACA,QAAIsE,iBAAiBtE,UAAUuE,KAAV,CAAgB,GAAhB,CAArB;AACA,QAAIC,aAAaF,eAAelB,KAAf,CAAqB,CAArB,CAAjB;AACA,QAAIqB,qBAAqB,CAAC,CAACH,eAAe,CAAf,CAA3B;AACAtE,gBAAYsE,eAAe,CAAf,KAAqBxF,gBAAjC;AACA,QAAI,CAACuF,WAAL,EAAkB;AAChBA,oBAAc,EAAd;AACA5E,qBAAeiF,GAAf,CAAmB7D,OAAnB,EAA4BwD,WAA5B;AACD;AACD,QAAI,CAACA,YAAYrE,SAAZ,CAAL,EAA6B;AAC3BqE,kBAAYrE,SAAZ,IAAyB;AACvB2E,uBAAe,EADQ;AAEvBC,uBAAe;AAFQ,OAAzB;AAID;AACD,QAAIC,YAAYR,YAAYrE,SAAZ,CAAhB;AACA,WAAO;AACLkB,kBAAY,SAASA,UAAT,CAAoBH,OAApB,EAA6B1B,QAA7B,EAAuCyB,IAAvC,EAA6C;AACvD,YAAIgE,cAAc,SAASA,WAAT,CAAqBhB,CAArB,EAAwBnC,eAAxB,EAAyC;AACzD,cAAIoD,cAAc,CAACjB,CAAD,CAAlB;AACA,cAAI3F,SAAS2F,EAAEpB,aAAf;AACA,cAAIsC,gBAAgBlB,EAAEkB,aAAtB;AACA,cAAIC,uBAAJ;AACA,cAAIC,MAAJ;AACA,cAAIlF,aAAajB,0BAAjB,EAA6C;AAC3CkG,sCAA0BD,iBAAiB7G,MAAjB,KAA4B6G,kBAAkB7G,MAAlB,IAA4B6F,SAAS7F,MAAT,EAAiB6G,aAAjB,CAAxD,CAA1B;AACD;AACD,cAAIrD,oBAAoBwD,SAAxB,EAAmC;AACjCJ,wBAAYxC,IAAZ,CAAiBZ,eAAjB;AACD;AACD9B,kBAAQO,UAAR,CAAmBJ,SAAnB,EAA8B,QAA9B,EAAwCa,OAAxC,EAAiD,CAACiD,CAAD,EAAIhD,IAAJ,CAAjD;AACA,cAAI,CAACmE,uBAAL,EAA8B;AAC5BC,qBAASnE,QAAQpC,KAAR,CAAcR,MAAd,EAAsB4G,WAAtB,CAAT;AACD;AACD,cAAIG,WAAW,KAAf,EAAsB;AACpBpB,cAAEsB,cAAF;AACAtB,cAAEuB,eAAF;AACD;AACF,SApBD;AAqBA,YAAIC,iBAAiB,SAASA,cAAT,CAAwBxB,CAAxB,EAA2BnC,eAA3B,EAA4C;AAC/D,cAAI/B,aAAakE,EAAElC,IAAF,KAAWhC,SAA5B,EAAuC;AACrC;AACD;AACDkE,YAAEhD,IAAF,GAASA,IAAT;AACAgD,YAAEyB,cAAF,GAAmB1E,OAAnB;AACA,cAAIxB,QAAJ,EAAc;AACZ,gBAAIqD,gBAAgBoB,EAAE3F,MAAtB;AACA,mBAAOuE,iBAAiBA,kBAAkB7B,OAA1C,EAAmD;AACjD,kBAAIzB,YAAYsD,aAAZ,EAA2BrD,QAA3B,CAAJ,EAA0C;AACxCyE,kBAAEpB,aAAF,GAAkBA,aAAlB;AACAoC,4BAAYhB,CAAZ,EAAenC,eAAf;AACD;AACDe,8BAAgBA,cAAcL,UAA9B;AACD;AACF,WATD,MASO;AACLyB,cAAEpB,aAAF,GAAkBoB,EAAEyB,cAAF,IAAoBzB,EAAE3F,MAAxC;AACA2G,wBAAYhB,CAAZ,EAAenC,eAAf;AACD;AACF,SAnBD;AAoBA,YAAI6D,eAAe;AACjBzE,mBAASA,OADQ;AAEjBuE,0BAAgBA,cAFC;AAGjBjG,oBAAUA,QAHO;AAIjBuC,gBAAM5B,SAJW;AAKjBc,gBAAMA,IALW;AAMjB2E,qBAAWjB,WAAWkB,IAAX,CAAgB,GAAhB,CANM;AAOjBlB,sBAAYA,UAPK;AAQjB7E,gBAAM,EAAEA;AARS,SAAnB;AAUAkF,kBAAUF,aAAV,CAAwBpC,IAAxB,CAA6BiD,YAA7B;AACA,YAAIG,yBAAyBd,UAAUF,aAAV,CAAwBrG,MAAxB,KAAmC,CAAhE;AACA,YAAIsH,0BAA0BD,0BAA0BlB,kBAAxD;AACA,YAAIoB,qBAAJ;AACA,YAAID,uBAAJ,EAA6B;AAC3BA,oCAA0B,CAAC/F,QAAQO,UAAR,CAAmBJ,SAAnB,EAA8B,OAA9B,EAAuCa,OAAvC,EAAgD,CAACC,IAAD,EAAO0D,UAAP,EAAmBzD,OAAnB,CAAhD,CAA3B;AACD;AACD,YAAI6E,uBAAJ,EAA6B;AAC3Bf,oBAAUD,aAAV,GAA0BkB,iBAAiB9F,SAAjB,CAA1B;AACA,cAAI+D,mCAAmC7E,4BAA4B8C,OAA5B,CAAoChC,SAApC,IAAiD,CAAC,CAAzF,EAA4F;AAC1F6F,oCAAwB;AACtBE,uBAAS;AADa,aAAxB;AAGD;AACDlB,oBAAUmB,cAAV,GAA2BhJ,aAAaL,OAAb,CAAqBsJ,MAArB,CAA4BpF,OAA5B,EAAqC9B,2BAA2BiB,SAA3B,KAAyCA,SAA9E,EAAyF6E,UAAUD,aAAnG,EAAkHiB,qBAAlH,CAA3B;AACD;AACDhG,gBAAQO,UAAR,CAAmBJ,SAAnB,EAA8B,KAA9B,EAAqCa,OAArC,EAA8C,CAAC2E,YAAD,CAA9C;AACD,OAtEI;AAuELjE,qBAAe,SAASA,aAAT,CAAuBR,OAAvB,EAAgC1B,QAAhC,EAA0C;AACvD,YAAI6G,oBAAoB,SAASA,iBAAT,CAA2BlG,SAA3B,EAAsC;AAC5D,cAAI6E,YAAYR,YAAYrE,SAAZ,CAAhB;AACA,cAAI,CAAC6E,UAAUF,aAAV,CAAwBrG,MAA7B,EAAqC;AACnC,mBAAO+F,YAAYrE,SAAZ,CAAP;AACA;AACD;AACD,cAAImG,cAAJ;AACAtB,oBAAUF,aAAV,GAA0BE,UAAUF,aAAV,CAAwByB,MAAxB,CAA+B,UAAUZ,YAAV,EAAwB;AAC/E,gBAAIa,OAAO7B,WAAWlG,MAAX,IAAqB,CAACgI,SAASd,aAAahB,UAAtB,EAAkCA,UAAlC,CAAtB,IAAuEzD,WAAWyE,aAAazE,OAAb,KAAyBA,OAA3G,IAAsH1B,YAAYmG,aAAanG,QAAb,KAA0BA,QAAvK;AACA,gBAAI,CAACgH,IAAL,EAAW;AACTF,+BAAiBX,aAAazE,OAA9B;AACAlB,sBAAQO,UAAR,CAAmBJ,SAAnB,EAA8B,QAA9B,EAAwCa,OAAxC,EAAiD,CAAC2E,YAAD,CAAjD;AACD;AACD,mBAAOa,IAAP;AACD,WAPyB,CAA1B;AAQA,cAAIE,wBAAwB,CAAC1B,UAAUF,aAAV,CAAwBrG,MAArD;AACA,cAAIkI,6BAA6BD,yBAAyBvG,cAAclB,gBAAxE;AACA,cAAI0H,0BAAJ,EAAgC;AAC9B3G,oBAAQO,UAAR,CAAmBJ,SAAnB,EAA8B,UAA9B,EAA0Ca,OAA1C,EAAmD,CAAC2D,UAAD,EAAa2B,cAAb,CAAnD;AACA,gBAAItB,UAAUD,aAAd,EAA6B;AAC3BC,wBAAUmB,cAAV;AACD;AACD,mBAAO3B,YAAYrE,SAAZ,CAAP;AACD;AACF,SAxBD;AAyBA,YAAIyE,kBAAJ,EAAwB;AACtByB,4BAAkBlG,SAAlB;AACD,SAFD,MAEO;AACL,eAAK,IAAIyG,IAAT,IAAiBpC,WAAjB,EAA8B;AAC5B6B,8BAAkBO,IAAlB;AACD;AACF;AACD,YAAIC,qBAAqB1I,OAAO2I,IAAP,CAAYtC,WAAZ,EAAyB/F,MAAzB,KAAoC,CAA7D;AACA,YAAIoI,kBAAJ,EAAwB;AACtBjH,yBAAemH,MAAf,CAAsB/F,OAAtB;AACD;AACF,OA5GI;AA6GLgB,oBAAc,SAASA,YAAT,CAAsBH,KAAtB,EAA6BC,eAA7B,EAA8C;AAC1D,YAAIkF,YAAY,KAAhB;AACA,YAAIC,iBAAiB,SAASA,cAAT,CAAwBtB,YAAxB,EAAsC;AACzD,cAAIqB,SAAJ,EAAe;AACb;AACD;AACD,cAAI,CAACrC,WAAWlG,MAAZ,IAAsBgI,SAASd,aAAahB,UAAtB,EAAkCA,UAAlC,CAA1B,EAAyE;AACvEgB,yBAAaF,cAAb,CAA4B5D,KAA5B,EAAmCC,eAAnC;AACAkF,wBAAYnF,MAAMqF,6BAAN,EAAZ;AACD;AACF,SARD;AASAlC,kBAAUF,aAAV,CAAwBtB,OAAxB,CAAgCyD,cAAhC;AACA,YAAItC,WAAWlG,MAAX,IAAqB+F,YAAYvF,gBAAZ,CAAzB,EAAwD;AACtDuF,sBAAYvF,gBAAZ,EAA8B6F,aAA9B,CAA4CtB,OAA5C,CAAoDyD,cAApD;AACD;AACF;AA5HI,KAAP;AA8HD;AACD,WAAShB,gBAAT,CAA0BkB,aAA1B,EAAyC;AACvC,WAAO,UAAUtF,KAAV,EAAiBC,eAAjB,EAAkC;AACvC,UAAIX,qBAAqBC,sBAAsB,IAAtB,EAA4B+F,aAA5B,CAAzB;AACAtF,cAAQlB,aAAayG,KAAb,CAAmBvF,KAAnB,CAAR;AACAV,yBAAmBa,YAAnB,CAAgCH,KAAhC,EAAuCC,eAAvC;AACD,KAJD;AAKD;AACD,WAAS2E,QAAT,CAAkBY,QAAlB,EAA4BC,OAA5B,EAAqC;AACnC,SAAK,IAAI/I,IAAI,CAAb,EAAgBA,IAAI+I,QAAQ7I,MAA5B,EAAoCF,GAApC,EAAyC;AACvC,UAAI8I,SAASlF,OAAT,CAAiBmF,QAAQ/I,CAAR,CAAjB,IAA+B,CAAnC,EAAsC,OAAO,KAAP;AACvC;AACD,WAAO,IAAP;AACD;AACD,WAASuC,oBAAT,CAA8ByG,QAA9B,EAAwC;AACtC,WAAO,UAAUvG,OAAV,EAAmBb,SAAnB,EAA8BX,QAA9B,EAAwCyB,IAAxC,EAA8CC,OAA9C,EAAuD;AAC5D,UAAI,CAACA,OAAL,EAAc;AACZA,kBAAUD,IAAV;AACAA,eAAOqE,SAAP;AACD;AACD,UAAI,OAAO9F,QAAP,KAAoB,QAAxB,EAAkC;AAChCyB,eAAOzB,QAAP;AACAA,mBAAW8F,SAAX;AACD;AACD,UAAI,CAACpE,OAAD,IAAY,OAAOf,SAAP,KAAqB,QAArC,EAA+C;AAC7Ce,kBAAUD,QAAQzB,QAAlB;AACAA,mBAAW8F,SAAX;AACArE,eAAOqE,SAAP;AACD;AACDiC,eAASvG,OAAT,EAAkBb,SAAlB,EAA6BX,QAA7B,EAAuCyB,IAAvC,EAA6CC,OAA7C;AACD,KAfD;AAgBD;AACD,WAASO,qBAAT,CAA+B8F,QAA/B,EAAyC;AACvC,WAAO,UAAUvG,OAAV,EAAmBb,SAAnB,EAA8BX,QAA9B,EAAwC0B,OAAxC,EAAiD;AACtD,UAAI,OAAO1B,QAAP,KAAoB,UAAxB,EAAoC;AAClC0B,kBAAU1B,QAAV;AACAA,mBAAW8F,SAAX;AACD;AACDiC,eAASvG,OAAT,EAAkBb,SAAlB,EAA6BX,QAA7B,EAAuC0B,OAAvC;AACD,KAND;AAOD;AACD,WAASU,yBAAT,CAAmC2F,QAAnC,EAA6C;AAC3C,WAAO,UAAUvG,OAAV,EAAmBwG,GAAnB,EAAwB1F,eAAxB,EAAyC;AAC9C,UAAI,OAAO0F,GAAP,KAAe,QAAnB,EAA6B;AAC3BA,cAAM;AACJzF,gBAAMyF;AADF,SAAN;AAGD;AACD,UAAI,CAACA,IAAIlJ,MAAT,EAAiB;AACfkJ,YAAIlJ,MAAJ,GAAa0C,OAAb;AACD;AACDwG,UAAI3E,aAAJ,GAAoB7B,OAApB;AACA,UAAI,CAACwG,IAAI9B,cAAT,EAAyB;AACvB8B,YAAI9B,cAAJ,GAAqB1E,OAArB;AACD;AACD,UAAI,CAACwG,IAAIzF,IAAL,IAAayF,IAAIC,aAArB,EAAoC;AAClCD,YAAIzF,IAAJ,GAAWyF,IAAIC,aAAJ,CAAkB1F,IAA7B;AACD;AACDwF,eAASvG,OAAT,EAAkBwG,eAAe7G,aAAayG,KAA5B,GAAoCI,GAApC,GAA0C7G,aAAayG,KAAb,CAAmBI,GAAnB,CAA5D,EAAqF1F,eAArF;AACD,KAjBD;AAkBD;AACD,WAAS4F,uBAAT,CAAiCH,QAAjC,EAA2C;AACzC5G,iBAAayG,KAAb,GAAqB,UAAUI,GAAV,EAAeG,MAAf,EAAuB;AAC1C,UAAI,EAAE,gBAAgBhH,aAAayG,KAA/B,CAAJ,EAA2C;AACzC,eAAO,IAAIzG,aAAayG,KAAjB,CAAuBI,GAAvB,EAA4BG,MAA5B,CAAP;AACD;AACD,UAAI,CAACH,GAAL,EAAU;AACRA,cAAM,EAAN;AACD;AACD,UAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AAC3BA,cAAM;AACJzF,gBAAMyF;AADF,SAAN;AAGD;AACD,UAAI,CAACG,MAAL,EAAa;AACXA,iBAAS,EAAT;AACD;AACDJ,eAAS1I,IAAT,CAAc,IAAd,EAAoB2I,GAApB,EAAyBG,MAAzB;AACD,KAhBD;AAiBAzJ,aAASyC,aAAayG,KAAb,CAAmBnJ,SAA5B,EAAuC;AACrC2J,2BAAqB,KADgB;AAErCC,oCAA8B,KAFO;AAGrCC,yBAAmB,KAHkB;AAIrC5F,4BAAsB,SAASA,oBAAT,GAAgC;AACpD,eAAO,CAAC,EAAE,KAAK0F,mBAAL,IAA4B,KAAKH,aAAL,IAAsB,KAAKA,aAAL,CAAmBM,kBAAvE,CAAR;AACD,OANoC;AAOrCvC,uBAAiB,SAASA,eAAT,GAA2B;AAC1C,aAAKoC,mBAAL,GAA2B,IAA3B;AACA,aAAKH,aAAL,IAAsB,KAAKA,aAAL,CAAmBjC,eAAnB,EAAtB;AACD,OAVoC;AAWrC0B,qCAA+B,SAASA,6BAAT,GAAyC;AACtE,eAAO,KAAKW,4BAAZ;AACD,OAboC;AAcrCG,gCAA0B,SAASA,wBAAT,GAAoC;AAC5D,aAAKxC,eAAL;AACA,aAAKqC,4BAAL,GAAoC,IAApC;AACA,aAAKJ,aAAL,IAAsB,KAAKA,aAAL,CAAmBO,wBAAnB,EAAtB;AACD,OAlBoC;AAmBrCC,0BAAoB,SAASA,kBAAT,GAA8B;AAChD,eAAO,CAAC,EAAE,KAAKH,iBAAL,IAA0B,KAAKL,aAAL,IAAsB,KAAKA,aAAL,CAAmBS,gBAArE,CAAR;AACD,OArBoC;AAsBrC3C,sBAAgB,SAASA,cAAT,GAA0B;AACxC,aAAKuC,iBAAL,GAAyB,IAAzB;AACA,aAAKL,aAAL,IAAsB,KAAKA,aAAL,CAAmBlC,cAAnB,EAAtB;AACD;AAzBoC,KAAvC;AA2BA,WAAO5E,aAAayG,KAApB;AACD;AACD,WAASrG,OAAT,CAAiBwG,QAAjB,EAA2B;AACzB,QAAIY,oBAAoB,SAASA,iBAAT,CAA2BnH,OAA3B,EAAoCb,SAApC,EAA+C;AACrE,UAAIA,aAAaA,UAAUgC,OAAV,CAAkB,GAAlB,IAAyB,CAAC,CAA3C,EAA8C;AAC5C,YAAIzB,OAAO4C,MAAMrF,SAAN,CAAgBsF,KAAhB,CAAsB1E,IAAtB,CAA2BL,SAA3B,EAAsC,CAAtC,CAAX;AACA2B,kBAAUuE,KAAV,CAAgB,GAAhB,EAAqBlB,OAArB,CAA6B,UAAUrD,SAAV,EAAqB;AAChDO,eAAK,CAAL,IAAUP,SAAV;AACAoH,mBAASzI,KAAT,CAAe,IAAf,EAAqB4B,IAArB;AACD,SAHD;AAID,OAND,MAMO;AACL6G,iBAASzI,KAAT,CAAe,IAAf,EAAqBN,SAArB;AACD;AACF,KAVD;AAWA,WAAO,UAAUwC,OAAV,EAAmBb,SAAnB,EAA8B;AACnC,UAAItC,QAAQsC,SAAR,MAAuB,QAA3B,EAAqC;AACnC,YAAIO,OAAO4C,MAAMrF,SAAN,CAAgBsF,KAAhB,CAAsB1E,IAAtB,CAA2BL,SAA3B,EAAsC,CAAtC,CAAX;AACA,aAAK,IAAIoI,IAAT,IAAiBzG,SAAjB,EAA4B;AAC1BO,eAAK,CAAL,IAAUkG,IAAV;AACAlG,eAAKA,KAAKjC,MAAL,GAAc,CAAnB,IAAwB0B,UAAUyG,IAAV,CAAxB;AACAuB,4BAAkBrJ,KAAlB,CAAwB,IAAxB,EAA8B4B,IAA9B;AACD;AACF,OAPD,MAOO;AACLyH,0BAAkBrJ,KAAlB,CAAwB,IAAxB,EAA8BN,SAA9B;AACD;AACF,KAXD;AAYD;AACD,WAASuE,gBAAT,CAA0B5C,SAA1B,EAAqCa,OAArC,EAA8C;AAC5C,QAAIoH,mBAAmBjJ,yBAAyBgB,SAAzB,KAAuCA,SAA9D;AACA,QAAIkI,mBAAmB,SAASA,gBAAT,CAA0BlI,SAA1B,EAAqCa,OAArC,EAA8C;AACnE,aAAOb,cAAc,OAAd,IAAyBa,QAAQsH,SAAR,KAAsB,GAAtD;AACD,KAFD;AAGA,QAAID,iBAAiBlI,SAAjB,EAA4Ba,OAA5B,CAAJ,EAA0C;AAC1C,QAAI,CAAC,GAAG1D,MAAMiL,UAAV,EAAsBvH,QAAQoH,gBAAR,CAAtB,CAAJ,EAAsD;AACpDrI,kBAAYI,SAAZ;AACAa,cAAQoH,gBAAR;AACArI,kBAAYuF,SAAZ;AACD;AACF;AACD,WAASkD,cAAT,CAAwB3G,KAAxB,EAA+B;AAC7B,QAAI4G,mBAAmB,SAASA,gBAAT,CAA0B5G,KAA1B,EAAiC;AACtD,UAAI6G,kBAAkB,gDAAtB;AACA,aAAO,CAAC7G,MAAM8G,KAAP,IAAgB9G,MAAM+G,MAAN,KAAiBtD,SAAjC,IAA8CoD,gBAAgBG,IAAhB,CAAqBhH,MAAME,IAA3B,CAArD;AACD,KAHD;AAIA,QAAI+G,iBAAiB,SAASA,cAAT,CAAwBjH,KAAxB,EAA+B;AAClD,aAAOA,MAAM8G,KAAN,IAAe,IAAf,IAAuB9G,MAAME,IAAN,CAAWI,OAAX,CAAmB,KAAnB,MAA8B,CAA5D;AACD,KAFD;AAGA,QAAI2G,eAAejH,KAAf,CAAJ,EAA2B;AACzB,aAAOA,MAAMkH,QAAN,IAAkB,IAAlB,GAAyBlH,MAAMkH,QAA/B,GAA0ClH,MAAMmH,OAAvD;AACD;AACD,QAAIP,iBAAiB5G,KAAjB,CAAJ,EAA6B;AAC3B,UAAIoH,gBAAgB;AAClB,WAAG,CADe;AAElB,WAAG,CAFe;AAGlB,WAAG,CAHe;AAIlB,WAAG;AAJe,OAApB;AAMA,aAAOA,cAAcpH,MAAM+G,MAApB,CAAP;AACD;AACD,WAAO/G,MAAM8G,KAAb;AACD;AACD,WAASO,SAAT,CAAmBC,UAAnB,EAA+B;AAC7B,QAAIA,UAAJ,EAAgB;AACdxI,mBAAayG,KAAb,GAAqB+B,UAArB;AACAxI,mBAAayG,KAAb,CAAmBnJ,SAAnB,GAA+BkL,WAAWlL,SAA1C;AACD;AACF;AACDiL,YAAUxB,wBAAwB,UAAUF,GAAV,EAAeG,MAAf,EAAuB;AACvD,QAAIyB,SAAJ;AACA,QAAIC,aAAa7B,eAAe7G,aAAayG,KAA5B,IAAqC,CAAC,GAAGhK,QAAQkM,SAAZ,OAA4B9B,eAAezI,OAAOqI,KAAvF,IAAgG,CAAC,CAACgC,YAAY5B,IAAI+B,IAAjB,MAA2B,IAA3B,IAAmCH,cAAc,KAAK,CAAtD,GAA0D,KAAK,CAA/D,GAAmEA,UAAUhC,KAA9E,KAAwFI,eAAeA,IAAI+B,IAAJ,CAASnC,KAAjO;AACA,QAAIiC,UAAJ,EAAgB;AACd,WAAK5B,aAAL,GAAqBD,GAArB;AACA,WAAKzF,IAAL,GAAYyF,IAAIzF,IAAhB;AACA,WAAKc,aAAL,GAAqByC,SAArB;AACA,UAAInH,OAAOF,SAAP,CAAiBW,cAAjB,CAAgCC,IAAhC,CAAqC2I,GAArC,EAA0C,WAA1C,CAAJ,EAA4D;AAC1D,aAAKgC,SAAL,GAAiBhC,IAAIgC,SAArB;AACD;AACD,WAAKC,SAAL,GAAiBjC,IAAIiC,SAAJ,IAAiBC,KAAKC,GAAL,EAAlC;AACD,KARD,MAQO;AACLzL,eAAS,IAAT,EAAesJ,GAAf;AACD;AACDoC,gBAAY,OAAZ,EAAqBpB,cAArB,EAAqC,IAArC;AACA,QAAIhB,IAAIzF,IAAJ,CAASI,OAAT,CAAiB,OAAjB,MAA8B,CAAlC,EAAqC;AACnC,aAAOwF,OAAOkC,KAAd;AACA,aAAOlC,OAAOmC,KAAd;AACD;AACD5L,aAAS,IAAT,EAAeyJ,MAAf;AACA,SAAK7H,IAAL,GAAY,EAAEA,IAAd;AACD,GArBS,CAAV;AAsBA,WAAS8J,WAAT,CAAqBG,QAArB,EAA+BC,IAA/B,EAAqCC,aAArC,EAAoD;AAClD9L,WAAO2F,cAAP,CAAsBmG,iBAAiBtJ,aAAayG,KAAb,CAAmBnJ,SAA1D,EAAqE8L,QAArE,EAA+E;AAC7EG,kBAAY,IADiE;AAE7EC,oBAAc,IAF+D;AAG7EpG,WAAK,SAASA,GAAT,GAAe;AAClB,eAAO,KAAK0D,aAAL,IAAsBuC,KAAK,KAAKvC,aAAV,CAA7B;AACD,OAL4E;AAM7E5C,WAAK,SAASA,GAAT,CAAauF,KAAb,EAAoB;AACvBjM,eAAO2F,cAAP,CAAsB,IAAtB,EAA4BiG,QAA5B,EAAsC;AACpCG,sBAAY,IADwB;AAEpCC,wBAAc,IAFsB;AAGpCE,oBAAU,IAH0B;AAIpCD,iBAAOA;AAJ6B,SAAtC;AAMD;AAb4E,KAA/E;AAeD;AACD9K,mBAAiBkE,OAAjB,CAAyB,UAAU8G,IAAV,EAAgB;AACvC,WAAOV,YAAYU,IAAZ,EAAkB,UAAUzI,KAAV,EAAiB;AACxC,aAAOA,MAAMyI,IAAN,CAAP;AACD,KAFM,CAAP;AAGD,GAJD;AAKA,GAAC,GAAG7M,kBAAkBX,OAAtB,EAA+B8M,WAA/B;AACA,MAAIW,oBAAoB,CAAC,GAAGhN,WAAWT,OAAf,GAAxB;AACA,MAAI0N,mBAAmB,CAAC,GAAGjN,WAAWT,OAAf,GAAvB;AACA6D,eAAakE,GAAb,GAAmB,UAAU4F,MAAV,EAAkB;AACnCF,sBAAkBG,IAAlB;AACA/J,iBAAagK,MAAb,CAAoBF,MAApB;AACAvB,cAAUuB,OAAOrD,KAAjB;AACAoD,qBAAiBE,IAAjB;AACD,GALD;AAMA/J,eAAaiK,eAAb,GAA+B,YAAY;AACzC3H,iBAAazE,SAAb,EAAwBsC,qBAAqB,YAAY;AACvD,UAAIJ,OAAOlC,SAAX;AACAmC,mBAAaC,EAAb,CAAgB9B,KAAhB,CAAsB,IAAtB,EAA4B4B,IAA5B;AACA6J,wBAAkBrK,GAAlB,CAAsB,YAAY;AAChC,YAAI2K,UAAUvH,MAAMrF,SAAN,CAAgBsF,KAAhB,CAAsB1E,IAAtB,CAA2B6B,IAA3B,EAAiC,CAAjC,CAAd;AACAmK,gBAAQC,MAAR,CAAe,CAAf,EAAkB,CAAlB;AACAnK,qBAAaa,GAAb,CAAiB1C,KAAjB,CAAuB,IAAvB,EAA6B+L,OAA7B;AACD,OAJD;AAKAL,uBAAiBtK,GAAjB,CAAqB,YAAY;AAC/BS,qBAAaC,EAAb,CAAgB9B,KAAhB,CAAsB,IAAtB,EAA4B4B,IAA5B;AACD,OAFD;AAGD,KAXuB,CAAxB;AAYD,GAbD;AAcAC,eAAatB,2BAAb,GAA2CA,2BAA3C;AACAsB,eAAauD,6BAAb,GAA6CA,6BAA7C;;AAEA;AACAvD,eAAaf,cAAb,GAA8BA,cAA9B;AACAe,eAAagD,iCAAb,GAAiDA,iCAAjD;;AAEA;AACA,MAAIoH,WAAWpK,YAAf;AACA9D,UAAQC,OAAR,GAAkBiO,QAAlB;AACAC,SAAOnO,OAAP,GAAiBA,QAAQC,OAAzB;AACAkO,SAAOnO,OAAP,CAAeC,OAAf,GAAyBD,QAAQC,OAAjC","file":"events_engine.js"}