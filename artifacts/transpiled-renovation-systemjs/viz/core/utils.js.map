{"version":3,"sources":["../../../transpiled-renovation/viz/core/utils.js"],"names":["exports","PANE_PADDING","adjustVisualRange","convertAngleToRendererSpace","convertPolarToXY","convertVisualRangeObject","enumParser","degreesToRadians","decreaseGaps","convertXYToPolar","extractColor","getAddFunction","getLog","getDistance","getDecimalOrder","getCosAndSin","getCategoriesInfo","getAppropriateFormat","getAdjustedLog10","getLogExt","getVerticallyShiftedAngularCoords","getPower","getNextDefsSvgId","getVizRangeObject","isRelativeHeightPane","map","mergeMarginOptions","normalizeAngle","normalizeArcParams","normalizeBBox","normalizeEnum","normalizePanesHeight","patchFontOptions","parseScalar","pointInCanvas","raiseTo","processSeriesTemplate","raiseToExt","rangesAreEqual","rotateBBox","roundValue","setCanvasValues","unique","updatePanesCanvases","valueOf","_common","require","_type","_extend","_iterator","_math","_date","_interopRequireDefault","_color","obj","__esModule","default","PI","Math","LN10","abs","log","floor","ceil","pow","sqrt","atan2","_min","min","_max","max","_cos","cos","_sin","sin","_round","round","dateToMilliseconds","MAX_PIXEL_COUNT","PI_DIV_180","_isNaN","isNaN","_Number","Number","_NaN","NaN","numDefsSvgElements","value","base","adjust","power","angle","angleInRadians","DECIMAL_ORDER_THRESHOLD","x1","y1","x2","y2","diffX","diffY","number","n","cn","start","end","count","order","precision","format","type","isNumeric","isExponential","toExponential","toFixed","split","array","callback","i","len","length","result","push","selectByKeys","object","keys","key","decreaseFields","eachDecrease","decrease","dec","each","_","String","toLowerCase","canvas","originalTop","top","originalBottom","bottom","originalLeft","left","originalRight","right","normalizeBBoxField","bBox","xl","x","yt","y","xr","width","yb","height","isEmpty","center","w2","h2","centerX","centerY","w2_","h2_","centerX_","centerY_","arrayGaps","apply","defaultValue","undefined","values","stored","ii","_value","options","fontOptions","test","color","concat","r","g","b","opacity","centerCoords","startAngle","radius","shiftAngle","normalizedRadius","isDefined","cosSin","phi","seriesTemplate","items","customizeSeries","isFunction","noop","nameField","generatedSeries","seriesOrder","series","data","name","nameFieldValue","orderedName","group","extend","call","categories","startValue","endValue","categoriesValue","category","indexStartValue","indexOf","indexEndValue","swapBuf","inverted","visibleCategories","slice","lastIdx","pane","unit","panes","forEach","parsedHeight","parseFloat","isString","relativeHeightPanes","filter","weightSum","reduce","prev","next","weightHeightCount","emptyHeightPanes","emptyHeightCount","weightForEmpty","emptyWeightSum","rotated","distributedSpace","padding","paneSpace","totalCustomSpace","cur","usefulSpace","startName","endName","calcLength","item","dy","isPositive","horizontalOffset1","verticalOffset1","verticalOffset2","horizontalOffset2","dx","opt1","opt2","checkInterval","size","percentStick","sizePointNormalState","Array","isArray","innerRadius","outerRadius","endAngle","isCircle","noArc","angleDiff","visualRange","convertToVisualRange","range","correctZeroLevel","dataType","rangeValue","marginValue","sign","arguments","Date","getTime","axisType","newValue","wholeRange","dataRange","minDefined","maxDefined","nonDiscrete","add","rangeLength","parseInt","isFinite","categoriesInfo","_categoriesInfo","allowNegatives","linearThreshold","transformValue","rangeFromOptions","every","isBase","fillId"],"mappings":"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","file":"utils.js"}