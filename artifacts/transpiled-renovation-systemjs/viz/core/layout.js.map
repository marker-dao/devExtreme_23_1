{"version":3,"sources":["../../../transpiled-renovation/viz/core/layout.js"],"names":["exports","default","_utils","require","_min","Math","min","_max","max","_round","round","ALIGN_START","ALIGN_MIDDLE","ALIGN_END","horizontalAlignmentMap","left","center","right","verticalAlignmentMap","top","bottom","sideMap","horizontal","vertical","slicersMap","BBOX_CEIL_CORRECTION","a","b","size","pickValue","value","map","defaultValue","val","normalizeEnum","normalizeLayoutOptions","options","side","alignment","horizontalAlignment","verticalAlignment","primary","bringToEdge","secondary","weak","priority","header","position","getConjugateSide","getSlice","getShrink","processForward","item","rect","minSize","element","measure","minSide","isValid","processRectBackward","alignmentRect","primarySide","secondarySide","itemRect","processBackward","fitRect","targetRect","itemFitRect","freeSpace","move","Layout","_targets","prototype","constructor","dispose","add","target","push","forward","slice","targets","createTargets","i","ii","length","cache","_cache","reverse","backward","arguments","undefined","backwardRect","targetSide","collection","layout","layoutOptions","sort","processWeakItems","weakItem","filter","headerItem","makeHeader","concat","processBackwardHeaderRect","rectCopy","weakElement","targetSize","result","weakSize","headerSize","weakRect","headerFitReact","headerRect","_default","module"],"mappings":"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","file":"layout.js"}