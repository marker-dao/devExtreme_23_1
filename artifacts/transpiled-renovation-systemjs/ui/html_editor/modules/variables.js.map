{"version":3,"sources":["../../../../transpiled-renovation/ui/html_editor/modules/variables.js"],"names":["exports","default","_devextremeQuill","_interopRequireDefault","require","_renderer","_position","_popup","_base","_variable","_extend","obj","__esModule","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","VariableModule","VARIABLE_FORMAT_CLASS","ACTIVE_FORMAT_CLASS","register","_PopupModule","_proto","_getDefaultOptions","baseConfig","call","extend","escapeChar","quill","options","_this","toolbar","getModule","addClickHandler","showPopup","keyboard","addBinding","key","altKey","on","e","$ofElement","component","option","of","hasClass","addClass","event","selection","getSelection","position","index","getLength","savePosition","_resetPopupPosition","element","offset","h","v","my","at","collision","mentionBounds","getBounds","rootRect","getBoundingRect","root","left","bottom","height","insertEmbedContent","selectionChangedEvent","caretPosition","getPosition","selectedItem","variableData","value","setTimeout","insertEmbed","setSelection","_default","module"],"mappings":"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","file":"variables.js"}