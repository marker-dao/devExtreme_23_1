{"version":3,"sources":["../../../../transpiled-renovation/ui/html_editor/modules/imageUpload.js"],"names":["exports","default","_devextremeQuill","_interopRequireDefault","require","_base","_events_engine","_renderer","_type","_extend","_image_uploader_helper","_index","_file_uploader","obj","__esModule","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","MODULE_NAMESPACE","HIDDEN_FILE_UPLOADER_CLASS","ImageUploadModule","_BaseModule","quill","options","_this","call","_quillContainer","editorInstance","_getQuillContainer","addCleanCallback","prepareCleanCallback","_handleServerUpload","_proto","useServerUpload","isDefined","fileUploadMode","_enableDragAndDropUploading","_disableDragAndDropUploading","_getUploaderModule","_uploaderModule","getModule","_this$_fileUploader","preventImageUploading","_detachEvents","_fileUploader","dispose","_initFileUploader","_attachEvents","$container","addClass","appendTo","fileUploaderOptions","extend","getFileUploaderBaseOptions","uploadUrl","onUploaded","_onUploaded","_createComponent","data","_this$quill$getSelect","_ref","getSelection","index","getLength","pasteIndex","serverUpload","uploadDirectory","file","name","on","root","addNamespace","_dropHandler","_pasteHandler","off","e","_handleInsertImages","filesField","saveValueChangeEvent","files","Array","from","originalEvent","uploads","length","preventDefault","stopPropagation","option","upload","clean","_this2","_option","value","handleOptionChangeValue","_default","module"],"mappings":"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","file":"imageUpload.js"}