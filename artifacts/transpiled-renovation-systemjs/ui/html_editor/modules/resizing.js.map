{"version":3,"sources":["../../../../transpiled-renovation/ui/html_editor/modules/resizing.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_events_engine","_click","_index","_translator","_devices","_resizable","_position","_devextremeQuill","_base","_size","obj","__esModule","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","DX_RESIZE_FRAME_CLASS","DX_TOUCH_DEVICE_CLASS","MODULE_NAMESPACE","KEYDOWN_EVENT","addNamespace","SCROLL_EVENT","MOUSEDOWN_EVENT","FRAME_PADDING","ResizingModule","_BaseModule","quill","options","_this","call","allowedTargets","enabled","_hideFrameWithContext","hideFrame","_framePositionChangedHandler","_prepareFramePositionChangedHandler","_attachEvents","_createResizeFrame","_proto","on","root","name","_clickHandler","editorInstance","_detachEvents","off","e","_isAllowedTarget","target","_$target","$target","minWidth","Math","max","getOuterWidth","getWidth","resizable","option","minHeight","getOuterHeight","getHeight","updateFramePosition","showFrame","_adjustSelection","_this2","getSelection","setSelection","targetElement","_isImage","indexOf","tagName","toUpperCase","_$resizeFrame","show","_handleFrameKeyDown","keyName","normalizeKeyName","_deleteImage","hide","_getBoundingRect","getBoundingRect","height","width","targetTop","top","targetLeft","left","_getBoundingRect2","containerTop","containerLeft","borderWidth","_getBorderWidth","css","padding","move","parseInt","_this3","_devices$current","current","deviceType","addClass","toggleClass","appendTo","_getQuillContainer","preventDefault","_createComponent","onResize","attr","_Quill$find","find","deleteAt","_option","value","handleOptionChangeValue","Array","isArray","clean","remove","undefined","module"],"mappings":"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","file":"resizing.js"}