{"version":3,"sources":["../../../../../transpiled-renovation/ui/scheduler/appointments/dataProvider/utils.js"],"names":["exports","sortAppointmentsByStartDate","replaceWrongEndDate","getRecurrenceException","getAppointmentTakesSeveralDays","compareDateWithStartDayHour","compareDateWithEndDayHour","_isEndDateWrong","_convertRecurrenceException","_appointmentPartInInterval","_date","_interopRequireDefault","require","_utils","_date_serialization","_expressionUtils","obj","__esModule","default","toMs","dateToMilliseconds","FULL_DATE_FORMAT","startDate","endDate","startDayHour","allDay","severalDays","startTime","dateTimeFromDecimal","result","getHours","hours","getMinutes","minutes","options","endDayHour","viewStartDayHour","viewEndDayHour","min","max","checkIntersectViewport","hiddenInterval","apptDuration","getTime","delta","apptStartHour","apptStartMinutes","endTime","apptIntersectViewport","adapter","sameDate","isNaN","apptStartDayHour","apptEndDayHour","appointmentAdapter","timeZoneCalculator","timeZone","recurrenceException","exceptions","split","i","length","join","exceptionString","replace","getConvertedToTimeZone","date","createDate","path","exceptionDate","deserializeDate","convertedStartDate","convertedExceptionDate","correctRecurrenceExceptionByTimezone","serializeDate","rawAppointment","appointmentDuration","dataAccessors","calculateAppointmentEndDate","isAllDay","setToDayEnd","Date","ExpressionUtils","getField","calculatedEndDate","setter","appointments","sort","a","b","firstDate","settings","secondDate","Math","sign"],"mappings":"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","file":"utils.js"}