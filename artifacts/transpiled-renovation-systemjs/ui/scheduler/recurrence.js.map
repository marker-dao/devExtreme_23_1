{"version":3,"sources":["../../../transpiled-renovation/ui/scheduler/recurrence.js"],"names":["exports","getRecurrenceProcessor","_errors","_interopRequireDefault","require","_iterator","_rrule","_date","_utils","obj","__esModule","default","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","len","length","arr2","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","push","value","err","return","isArray","toMs","dateToMilliseconds","ruleNames","freqNames","days","SU","MO","TU","WE","TH","FR","SA","loggedWarnings","MS_IN_HOUR","MS_IN_DAY","recurrence","RecurrenceProcessor","rRule","rRuleSet","validator","RecurrenceValidator","_proto","generateDates","options","_this","recurrenceRule","evalRecurrenceRule","rule","isValid","freq","rruleIntervalParams","_createRruleIntervalParams","_initializeRRule","startIntervalDate","until","between","minViewDate","maxViewDate","filter","date","getTime","appointmentDuration","minViewTime","map","_convertRruleResult","start","min","max","appointmentTimezoneOffset","clientOffsets","startDate","getClientTimezoneOffset","duration","end","setOffsetsToDate","Date","startDateDSTDifferenceMs","getDiffBetweenClientTimezoneOffsets","switchToSummerTime","startIntervalDateDSTShift","rruleDate","localTimezoneOffset","additionalWorkaroundOffsetForRrule","convertedBackDate","convertedDateDSTShift","resultDate","resultDateDSTShift","hasRecurrence","result","_parseRecurrenceRule","validateRRule","isValidRecurrenceRule","daysFromByDayRule","split","item","match","getAsciiStringByDate","currentOffset","getTimezoneOffset","offsetDate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getRecurrenceString","object","field","substring","toUpperCase","_parseExceptionToRawArray","getDateByAsciiString","exceptionText","_this$_createDateTupl","_createDateTuple","_this$_createDateTupl2","year","month","hours","minutes","seconds","isUtc","UTC","_dispose","_getTimeZoneOffset","startDateUtc","_this2","ruleOptions","RRule","parseString","firstDayOfWeek","dtstart","wkst","weekDayNumbers","_createRRule","exception","exceptionStrings","exceptionDates","forEach","getPostProcessedException","utcDate","exdate","RRuleSet","rrule","ruleObject","ruleParts","ruleName","toLowerCase","ruleValue","count","parseInt","isNaN","interval","parseResult","undefined","shift","splice","unshift","_proto2","_brokenRuleNameExists","includes","_wrongCountRule","_wrongIntervalRule","_wrongDayOfWeek","_wrongByMonthDayRule","_wrongByMonth","_wrongUntilRule","_logBrokenRule","wrongUntil","wrongCount","wrongByMonthDay","byMonthDay","wrongByMonth","byMonth","wrongInterval","byDay","daysByRule","brokenDaysExist","each","_","day","hasOwnProperty","brokenRuleExists","log"],"mappings":"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","file":"recurrence.js"}