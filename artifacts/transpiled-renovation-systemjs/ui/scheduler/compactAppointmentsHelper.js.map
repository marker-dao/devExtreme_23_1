{"version":3,"sources":["../../../transpiled-renovation/ui/scheduler/compactAppointmentsHelper.js"],"names":["exports","CompactAppointmentsHelper","_renderer","_interopRequireDefault","require","_button","_translator","_message","_function_template","_deferred","_extend","_position","_dataStructures","_constants","_appointmentAdapter","_utils","obj","__esModule","default","APPOINTMENT_COLLECTOR_CLASS","COMPACT_APPOINTMENT_COLLECTOR_CLASS","APPOINTMENT_COLLECTOR_CONTENT_CLASS","WEEK_VIEW_COLLECTOR_OFFSET","COMPACT_THEME_WEEK_VIEW_COLLECTOR_OFFSET","instance","elements","_proto","prototype","render","options","isCompact","items","buttonColor","template","_createTemplate","data","length","button","_createCompactButton","$button","$element","_makeBackgroundColor","colors","_makeBackgroundDarker","push","_createTooltipInfos","clear","forEach","detach","remove","_this","map","appointment","index","_items$settings","targetedAdapter","createAppointmentAdapter","_dataAccessors","timeZoneCalculator","clone","settings","info","startDate","sourceAppointment","endDate","AppointmentTooltipInfo","source","_onButtonClick","e","element","showAppointmentTooltipCore","_getExtraOptionsForTooltip","$appointmentCollector","clickEvent","_clickEvent","onAppointmentClick","bind","dragBehavior","allowDrag","_createTooltipDragBehavior","dropDownAppointmentTemplate","option","isButtonClick","_this2","config","itemData","itemElement","targetedAppointment","createClickEvent","extendFromObject","fire","itemIndex","_this3","$schedulerElement","workSpace","getWorkSpace","getItemData","_$$data","LIST_ITEM_DATA_KEY","getItemSettings","_","event","itemSettings","initialPosition","locate","filter","concat","LIST_ITEM_CLASS","isSetCursorOffset","_createDragBehaviorBase","_getCollectorOffset","width","cellWidth","_getCollectorRightOffset","getRenderingStrategyInstance","_isCompactTheme","css","getBoundingRect","get","color","when","apply","done","_makeBackgroundColorCore","Array","slice","call","arguments","itemColors","backgroundColor","getOverflowIndicatorColor","_setPosition","position","move","top","left","_this4","_createCompactButtonElement","_createComponent","type","height","onClick","_renderTemplate","_ref","$container","coordinates","result","addClass","toggleClass","appendTo","FunctionTemplate","model","appointmentCount","container","count","_initButtonTemplate","_getAppointmentTemplate","_this5","_templateManager","addDefaultTemplates","appointmentCollector","_createButtonTemplate","text","getFormatter","append"],"mappings":"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","file":"compactAppointmentsHelper.js"}