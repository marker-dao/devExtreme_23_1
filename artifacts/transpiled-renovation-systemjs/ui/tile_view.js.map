{"version":3,"sources":["../../transpiled-renovation/ui/tile_view.js"],"names":["exports","default","_size","require","_renderer","_interopRequireDefault","_devices","_component_registrator","_iterator","_type","_extend","_window","_element","_common","_support","_scroll_view","_uiCollection_widget","obj","__esModule","TILEVIEW_CLASS","TILEVIEW_CONTAINER_CLASS","TILEVIEW_ITEM_CLASS","TILEVIEW_ITEM_SELECTOR","TILEVIEW_ITEM_DATA_KEY","CONFIGS","itemMainRatio","itemCrossRatio","baseItemMainDimension","baseItemCrossDimension","mainDimension","crossDimension","mainPosition","crossPosition","TileView","inherit","_activeStateUnit","_getDefaultOptions","extend","callBase","items","direction","hoverStateEnabled","showScrollbar","height","baseItemWidth","baseItemHeight","itemMargin","activeStateEnabled","indicateLoading","_defaultOptionsRules","concat","device","real","deviceType","isSimulator","options","focusStateEnabled","nativeScrolling","_itemClass","_itemDataKey","_itemContainer","_$container","_init","$element","addClass","_initScrollView","_dataSourceLoadingChangedHandler","isLoading","scrollView","_scrollView","startLoading","option","finishLoading","_hideLoadingIfLoadIndicationOff","_this$option","width","_createComponent","scrollByContent","useKeyboard","content","_renderGeometry","bind","_initMarkup","deferRender","_cellsPerDimension","_updateScrollView","_fireContentReadyAction","update","_indicateLoadingIfAlreadyStarted","_isDataSourceLoading","_config","config","maxItemCrossRatio","Math","max","apply","map","item","round","crossDimensionValue","hasWindow","getWidth","getHeight","parseInt","get","style","floor","_cells","push","Array","_arrangeItems","_renderContentSize","_ref","actualContentSize","length","elementSize","setWidth","setHeight","_itemsPositions","each","index","currentItem","itemPosition","_getItemPosition","_occupyCells","_arrangeItem","position","main","cross","_itemFit","result","itemRatioMain","itemRatioCross","undefined","itemPositionMain","itemPositionCross","baseItemCross","baseItemMain","cssProps","display","offsetCorrection","itemPositionX","left","offsetPosition","itemBaseOffset","itemWidth","widthRatio","subItemMargins","_itemElements","eq","css","_moveFocus","location","FOCUS_UP","FOCUS_DOWN","FOCUS_LEFT","FOCUS_RIGHT","FOCUS_PAGE_UP","FOCUS_PAGE_DOWN","horizontalDirection","cells","targetCol","targetRow","top","colCount","rowCount","getCell","col","row","arguments","newTargetIndex","isDefined","$newTarget","getPublicElement","_scrollToItem","$itemElement","outerMainGetter","getOuterWidth","getOuterHeight","itemDimension","itemTail","scrollPosition","clientWidth","scrollTo","_optionChanged","args","name","value","scrollOffset","_default","module"],"mappings":"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","file":"tile_view.js"}