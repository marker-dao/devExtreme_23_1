{"version":3,"sources":["../../../transpiled-renovation/ui/shared/accessibility.js"],"names":["exports","hiddenFocus","registerKeyboardAction","restoreFocus","saveFocusedElementInfo","selectView","setTabIndex","subscribeVisibilityChange","unsubscribeVisibilityChange","_renderer","_interopRequireDefault","require","_events_engine","_index","_extend","_dom_adapter","_common","obj","__esModule","default","FOCUS_STATE_CLASS","FOCUS_DISABLED_CLASS","FOCUSED_ROW_SELECTOR","GRID_ROW_SELECTOR","GRID_CELL_SELECTOR","concat","TREELIST_ROW_SELECTOR","TREELIST_CELL_SELECTOR","viewItemSelectorMap","groupPanel","columnHeaders","filterRow","rowsView","footer","filterPanel","pager","isMouseDown","isHiddenFocusing","focusedElementInfo","processKeyDown","viewName","instance","event","action","$mainElement","executeKeyDown","isHandled","fireKeyDownEvent","originalEvent","keyName","normalizeKeyName","target","addClass","$target","ariaLabel","attr","$activeElements","getActiveAccessibleElements","element","targetIndex","index","extend","viewInstance","viewElement","$viewElement","find","findFocusedViewElement","viewSelectors","root","getRootNode","getDocument","selector","$focusViewElement","first","length","executeAction","args","handled","_createActionByOption","onDocumentVisibilityChange","visibilityState","on","off","focus","$element","option","noop","getMainElement","keyDownHandler","e","mouseDownHandler","removeClass","focusinHandler","needShowOverlay","$targetElement","eq","trigger","ctrlKey","viewNames","Object","keys","viewItemIndex","indexOf","_viewName"],"mappings":"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","file":"accessibility.js"}