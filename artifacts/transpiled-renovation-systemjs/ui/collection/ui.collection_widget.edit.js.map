{"version":3,"sources":["../../../transpiled-renovation/ui/collection/ui.collection_widget.edit.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_events_engine","_uiCollection_widget","_ui","_extend","_iterator","_common","_type","_uiCollection_widgetEditStrategy","_data","_data_source","_utils","_selection","_deferred","obj","__esModule","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","ITEM_DELETING_DATA_KEY","NOT_EXISTING_INDEX","indexExists","index","CollectionWidget","inherit","_setOptionsByReference","callBase","extend","_optionsByReference","selectedItem","_getDefaultOptions","selectionMode","selectionRequired","selectByClick","selectedItems","selectedItemKeys","maxFilterLengthInRequest","keyExpr","selectedIndex","onSelectionChanged","onItemReordered","onItemDeleting","onItemDeleted","ctor","element","options","_userOptions","_init","_initEditStrategy","_initKeyGetter","_initSelectionModule","_keyGetter","compileGetter","option","_getKeysByItems","_editStrategy","getKeysByItems","_getItemsByKeys","getItemsByKeys","_getKeyByIndex","getKeyByIndex","_getIndexByKey","key","getIndexByKey","_getIndexByItemData","itemData","getIndexByItemData","_isKeySpecified","_dataController","_getCombinedFilter","filter","keyOf","item","store","_nullValueSelectionSupported","that","itemsGetter","allowNullValue","mode","equalByReference","args","addedItemKeys","removedItemKeys","_updateSelectedItems","bind","totalCount","items","_getItemsCount","load","_dataController$loadO","dataController","customQueryParams","loadOptions","userData","loadFromStore","done","loadResult","_disposed","normalizeLoadResult","data","applyMapFunction","Deferred","resolve","plainItems","dataFields","select","_this","reduce","itemsCount","Strategy","_getSelectedItemIndices","keys","indices","getSelectedItemKeys","beginCache","each","_","push","endCache","_initMarkup","_this2","_rendering","isLoading","_syncSelectionOptions","_normalizeSelectedItems","_render","_fireContentReadyAction","_rendered","apply","arguments","byOption","_chooseSelectOption","getItemDataByIndex","isDefined","_setOptionWithoutOptionChange","selectedItemIndex","setSelection","promise","optionName","isOptionDefined","optionValue","_compareKeys","oldKeys","newKeys","newSelection","currentSelection","getSelectedItems","normalizedSelection","undefined","_itemClickHandler","e","_arguments","_this3","itemSelectPromise","_createAction","_this$_itemSelectHand","_itemSelectHandler","event","validatingTargetName","itemElement","currentTarget","always","_itemSelectPromise","$itemElement","isItemSelected","unselectItem","selectItem","_selectedItemElement","_itemElements","eq","_postprocessRenderItem","normalizedItemIndex","getNormalizedIndex","_isItemSelected","_processSelectableItem","isSelected","toggleClass","_selectedItemClass","_setAriaSelectionAttribute","String","selectionChangePromise","_selectionChangePromise","addedSelection","normalizedIndex","removedSelection","_addSelection","_i","_removeSelection","_updateSelection","when","_fireSelectionChangeEvent","addedItems","removedItems","_createActionByOption","excludeValidators","noop","$target","value","setAria","getItemElement","triggerHandler","checkPending","_optionChanged","_this4","_invalidate","_clearSelectedItems","_waitDeletingPrepare","deferred","deletingActionArgs","cancel","deletePromise","_itemEventHandler","deletePromiseExists","deletePromiseResolved","state","argumentsSpecified","shouldDelete","fromPromise","reject","fail","_deleteItemFromDS","$item","disabledState","dataStore","remove","Error","_getItemData","_tryRefreshLastPage","_isLastPage","_refreshLastPage","_expectLastItemLoading","_updateSelectionAfterDelete","deselect","_updateIndicesAfterIndex","itemElements","_itemIndexKey","_simulateOptionChange","DataSource","_optionChangedAction","fullName","itemIndex","concat","_deleteItemElementByIndex","deleteItemAtIndex","_afterItemElementDeleted","deletedActionArgs","changingOption","getDataSource","beforeExecute","_renderEmptyMessage","deleteItem","itemResponseWaitClass","_itemResponseWaitClass","addClass","_extendActionArgs","resolveWith","removeClass","rejectWith","reorderItem","toItemElement","strategy","$movingItem","$destinationItem","movingIndex","destinationIndex","canMoveItems","itemPlacementFunc","moveItemAtIndexToIndex","fromIndex","getIndex","toIndex","_default","module"],"mappings":"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","file":"ui.collection_widget.edit.js"}