{"version":3,"sources":["../../../transpiled/core/utils/shadow_dom.js"],"names":["exports","addShadowDomStyles","getShadowElementsFromPoint","DX_RULE_PREFIX","ownerDocumentStyleSheet","createConstructedStyleSheet","rootNode","CSSStyleSheet","err","styleElement","ownerDocument","createElement","appendChild","sheet","processRules","targetStyleSheet","styleSheets","needApplyAllStyles","i","length","j","cssRules","insertRule","rule","_rule$selectorText","_rule$cssRules","_rule$cssRules$","_rule$cssRules$$selec","_rule$name","_rule$style","isDxRule","selectorText","includes","name","startsWith","style","fontFamily","cssText","$element","_el$getRootNode","el","get","root","getRootNode","call","host","currentShadowDomStyleSheet","adoptedStyleSheets","isPositionInElementRectangle","element","x","y","rect","getBoundingClientRect","left","right","top","bottom","createQueue","shiftIndex","items","Object","defineProperties","push","item","shift","configurable","enumerable","elementQueue","childNodes","childNode","nodeType","Node","ELEMENT_NODE","getComputedStyle","pointerEvents","result","reverse","pop"],"mappings":"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","file":"shadow_dom.js"}