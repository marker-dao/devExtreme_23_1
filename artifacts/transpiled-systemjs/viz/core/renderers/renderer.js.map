{"version":3,"sources":["../../../../transpiled/viz/core/renderers/renderer.js"],"names":["exports","RectSvgElement","PathSvgElement","DEBUG_set_TextSvgElement","DEBUG_set_SvgElement","DEBUG_set_RectSvgElement","DEBUG_set_PathSvgElement","DEBUG_set_ArcSvgElement","DEBUG_removeBackupContainer","ArcSvgElement","Renderer","TextSvgElement","SvgElement","getFuncIri","processHatchingAttrs","refreshPaths","_renderer","_interopRequireDefault","require","_dom_adapter","_window","_call_once","_events_engine","_svg","_animation","_utils","_type","obj","__esModule","default","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","len","length","arr2","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","push","value","err","return","isArray","window","getWindow","max","Math","round","SHARPING_CORRECTION","ARC_COORD_PREC","LIGHTENING_HASH","pxAddingExceptions","KEY_TEXT","KEY_STROKE","KEY_STROKE_WIDTH","KEY_STROKE_OPACITY","KEY_FONT_SIZE","KEY_FONT_STYLE","KEY_FONT_WEIGHT","KEY_TEXT_DECORATION","KEY_TEXTS_ALIGNMENT","NONE","DEFAULT_FONT_SIZE","ELLIPSIS","objectCreate","create","proto","F","DEFAULTS","scaleX","scaleY","getBackup","backupContainer","createElement","backupCounter","style","left","position","backupRoot","root","getBody","appendChild","append","element","restoreRoot","container","removeChild","isObjectArgument","tagName","createElementNS","id","pathModified","location","href","split","extend","target","source","key","preserveAspectRatioMap","attrs","hatching","normalizeEnum","direction","fill","_hatching","renderer","lockDefsElements","color","filter","releaseDefsElements","_filter","buildArcPath","x","y","innerR","outerR","startAngleCos","startAngleSin","endAngleCos","endAngleSin","isCircle","longFlag","toFixed","join","buildPathSegments","points","type","list","buildLineSegments","buildCurveSegments","close","buildSegments","buildSimpleLineSegment","buildSimpleCurveSegment","buildSimpleSegment","_points$","ii","k0","k","undefined","combinePathParam","segments","d","segment","j","jj","compensateSegments","oldSegments","newSegments","oldLength","newLength","originalNewSegments","makeEqualSegments","indexOf","makeEqualAreaSegments","makeEqualLineSegments","prepareConstSegment","constSeg","short","long","head","shortLength","longLength","constsSeg1","constsSeg2","splice","baseCss","that","styles","elemStyles","_styles","isDefined","fixFuncIri","wrapper","attribute","attr","removeAttribute","setAttribute","baseAttr","settings","_settings","attributes","elem","rtl","hasTransformations","recalculateDashStyle","sw","center","right","_addFixIRICallback","dashStyle","_originalSW","replace","parseInt","_applyTransformation","pathAttr","arcAttr","innerRadius","outerRadius","startAngle","endAngle","apply","normalizeArcParams","rectAttr","width","height","maxSW","newSW","_originalX","_originalY","_originalWidth","_originalHeight","sharp","textAttr","isResetRequired","wasStroked","alignTextNodes","isStroked","createTextNodes","text","_hasEllipsis","locateTextNodes","strokeTextNodes","textCss","orderHtmlTree","line","node","parentStyle","parentClassName","realStyle","nodes","wholeText","className","isElementNode","fontSize","fontStyle","fontWeight","textDecoration","childNodes","adjustLineHeights","items","currentItem","item","maxLengthFontSize","inherits","parseFloat","NaN","removeExtraAttrs","html","findTagAttrs","findStyleAndClassAttrs","allTagAttrs","p1","p2","p3","match","map","str","parseHTML","div","innerHTML","querySelectorAll","forEach","getAttribute","parseMultiline","texts","trim","createTspans","fieldName","createTextNode","restoreText","applyEllipsis","maxWidth","lines","hasEllipsis","lineParts","ellipsis","ellipsisWidth","getBBox","_getElementBBox","prepareLines","_texts","parts","commonLength","endIndex","setNewText","startBox","removeTextSpan","remove","cloneAndRemoveAttrs","clone","cloneNode","detachTitleElements","titleElements","detachAndStoreTitleElements","setMaxSize","maxHeight","options","arguments","textChanged","textIsEmpty","ellipsisMaxWidth","restoreTitleElement","_that$_getElementBBox","applyOverflowRules","setMaxHeight","_getLineHeight","reduce","concat","t","stroke","tspan","parentNode","textContent","rowCount","getIndexForEllipsis","endBox","kk","getSubStringLength","getTextWidth","getSpaceBreakIndex","initialIndices","spaceIndices","indices","char","index","spaceIndex","getWordBreakIndex","getEllipsisString","_ref","hideOverflowEllipsis","setEllipsis","wordWrap","lastStepBreakIndex","breakIndex","restLines","restText","isFinite","newTextOffset","restString","restTspan","textOverflow","calculateLineHeight","lineHeight","getItemLineHeight","Number","result","_ref2","l","_ref3","commonHeight","prevLine","textValue","_ref4","_ref5","stop","lineNumber","wordWrapLines","insertString","newText","substr","parsedHtml","clear","encodeHtml","DEBUG_parsedHtml","setTextNodeAttribute","defaultValue","alignment","maxTextWidth","textWidth","fontSize1","fontSize2","parsedHeight1","parsedHeight2","height1","height2","isNaN","strokeWidth","strokeOpacity","baseAnimate","params","complete","animationParams","defaults","translateX","translateY","rotate","rotateX","rotateY","animationEnabled","transform","to","animateElement","step","pathAnimate","curSegments","endSegments","end","arcAnimate","arcParams","arc","buildLink","parameters","is","after","virtual","removeFuncIriCallback","callback","fixFuncIriCallbacks","_getJQElement","_$element","fn","_fixFuncIri","add","_clearChildrenFuncIri","clearChildren","dispose","parent","enableLinks","_links","checkLinks","count","links","_link","Error","virtualLink","linkItem","linkAfter","_linkAfter","linkOn","linkOff","unlinkItem","linkAppend","link","_insert","insertBefore","linkRemove","empty","toBackground","firstChild","toForeground","smartAttr","css","animate","pos","sharpDirection","tr","transformations","sharpMode","trDirection","strokeOdd","correctionX","correctionY","scaleXDefined","scaleYDefined","move","animOptions","angle","bBox","e","offsetWidth","offsetHeight","transformation","rotateBBox","normalizeBBox","markup","getSvgMarkup","getOffset","offset","stopAnimation","disableComplete","animation","setTitle","titleElem","removeTitle","data","val","on","args","off","trigger","updateIndexes","_createElement","xmlns","version","cssClass","display","overflow","_init","_$container","_locker","_backed","_defs","_animationController","AnimationController","enabled","duration","easing","setOptions","updateAnimationOptions","lock","unlock","resize","removeByRenderer","newOptions","stopAllAnimations","svg","getRootOffset","onEndAnimation","endAnimation","rect","simpleRect","circle","r","cx","cy","g","image","w","h","preserveAspectRatio","setAttributeNS","path","_text","linearGradient","stops","getNextDefsSvgId","rotationAngle","gradient","gradientTransform","_createGradientStops","radialGradient","group","_this","_stop$stopColor","opacity","pattern","_id","stepTo2","stepBy15","patternUnits","customPattern","template","option","patternContentUnits","_getPatternUnits","render","_getPointsWithYOffset","point","clipShape","method","methodArgs","clipPath","shape","clipRect","clipCircle","radius","shadowFilter","offsetX","offsetY","blur","gaussianBlur","flood","composite","finalComposite","filterAttrs","offsetAttrs","floodAttrs","dx","dy","brightFilter","slope","componentTransferElement","getGrayScaleFilter","_grayScaleFilter","values","lightenFilter","coef","initDefsElements","storage","_defsElementsStorage","byHash","baseId","refToHash","nextId","drawPattern","_ref6","storageId","drawFilter","_","ref","storageItem","hash","getHatchingHash","_ref7","callbacks","el","fire"],"mappings":"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","file":"renderer.js"}