{"version":3,"sources":["../../../../transpiled/viz/core/renderers/animation.js"],"names":["exports","Animation","AnimationController","noop","easingFunctions","animationSvgStep","_frame","require","easeOutCubic","pos","start","end","Math","pow","linear","segments","elem","params","progress","easing","currentParams","from","to","curSeg","seg","i","j","length","push","attr","arc","current","transform","base","attributeName","obj","_","complete","element","currentSettings","step","now","that","animateStep","_animateStep","attrName","_progress","_calcProgress","anim","_easing","_currentParams","options","stop","delayTick","_startTime","delay","tick","duration","partitionDuration","prototype","min","disableComplete","_animationCount","_timerId","_animations","_loop","animations","activeAnimation","Date","getTime","an","endAnimation","_endAnimation","_endAnimationTimer","setTimeout","requestAnimationFrame","call","addAnimation","animation","clearTimeout","_startDelay","animateElement","onEndAnimation","dispose","cancelAnimationFrame","lock","unstoppable","hasUnstoppableInAnimations"],"mappings":"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","file":"animation.js"}