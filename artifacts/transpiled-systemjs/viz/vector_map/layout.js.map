{"version":3,"sources":["../../../transpiled/viz/vector_map/layout.js"],"names":["exports","LayoutControl","_iterator","require","_round","Math","round","_min","min","_max","max","_each","each","horizontalAlignmentMap","verticalAlignmentMap","getCellIndex","options","verticalAlignment","horizontalAlignment","createCells","canvas","items","hStep","right","left","vStep","bottom","top","h1","h2","h3","h4","v1","v2","v3","cells","rect","center","horInversion","verInversion","itemsList","_","item","getLayoutOptions","push","width","height","i","cell","length","adjustCellSizes","index","otherCell","otherCell1","otherCell2","size1","size2","adjustCellsAndApplyLayout","forceMode","hasHiddenItems","applyCellLayout","cellRect","cellWidth","cellHeight","xOffset","yOffset","currentHeight","totalL","totalT","totalR","totalB","moves","dx","dy","move","locate","resize","applyLayout","widget","that","_items","_suspended","_widget","_updateLayout","_update","prototype","constructor","dispose","setSize","_canvas","suspend","resume","addItem","updateLayout","removeItem","indexOf","splice","resolveItemsDeferred","filter","el","getTemplatesGroups","getTemplatesDef"],"mappings":"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","file":"layout.js"}