{"version":3,"sources":["../../../transpiled/viz/range_selector/range_selector.js"],"names":["exports","default","_component_registrator","_interopRequireDefault","require","_type2","_extend","_iterator","_utils","_date","_math","_range","_base_axis","_parse_utils","_format_helper","_common","_sliders_controller","_tracker","_range_view","_series_data_source","_tick_generator","_axes_constants","_base_widget","_export","_title","_loading_indicator","_data_source","obj","__esModule","_max","Math","max","_ceil","ceil","_floor","floor","START_VALUE","END_VALUE","DATETIME","VALUE","DISCRETE","SEMIDISCRETE","STRING","VALUE_CHANGED","CONTAINER_BACKGROUND_COLOR","SLIDER_MARKER","OPTION_BACKGROUND","LOGARITHMIC","KEEP","SHIFT","RESET","INVISIBLE_POS","SEMIDISCRETE_GRID_SPACING_FACTOR","DEFAULT_AXIS_DIVISION_FACTOR","DEFAULT_MINOR_AXIS_DIVISION_FACTOR","logarithmBase","calculateMarkerHeight","renderer","value","sliderMarkerOptions","formattedText","undefined","consts","emptySliderMarkerText","formatValue","textBBox","getTextBBox","font","height","paddingTopBottom","pointerSize","calculateScaleLabelHalfWidth","scaleOptions","tickIntervalsInfo","label","valueType","type","width","calculateIndents","scale","indentOptions","leftMarkerHeight","leftScaleLabelWidth","rightScaleLabelWidth","rightMarkerHeight","placeholderWidthLeft","placeholderWidthRight","placeholderHeight","ticks","customTicks","startTickValue","endTickValue","left","right","visible","startValue","endValue","isDefined","length","top","bottom","calculateValueType","firstValue","secondValue","typeFirstValue","typeSecondValue","validType","showScaleMarkers","marker","updateTranslatorRangeInterval","translatorRange","intervalX","minorTickInterval","tickInterval","dateToMilliseconds","addRange","interval","checkLogarithmicOptions","options","defaultLogarithmBase","incidentOccurred","isNumeric","calculateScaleAreaHeight","visibleMarkers","labelScaleOptions","markerScaleOptions","text","topIndent","separatorHeight","getMinorTickIntervalUnit","withCorrection","getDateUnitInterval","majorUnit","idx","dateUnitIntervals","indexOf","getNextTickInterval","isDateType","getNextDateUnit","calculateTickIntervalsForSemidiscreteScale","min","screenDelta","gridSpacingFactor","axisDivisionFactor","tickCountByInterval","tickCountByScreen","bounds","minVisible","maxVisible","updateTickIntervals","range","result","categoriesInfo","_categoriesInfo","ticksInfo","tickGenerator","axisType","dataType","logBase","allowNegatives","linearThreshold","abs","minorAxisDivisionFactor","calculateMinors","allowDecimals","endOnTick","rangeIsEmpty","isEmpty","categories","forceUserTickInterval","minorTickCount","getFirstDayOfWeek","_options$workWeek","workWeek","calculateTranslatorRange","seriesDataSource","minValue","maxValue","inverted","getBoundRange","arg","Range","rangeForCategories","isDate","firstDayOfWeek","minRange","argCategories","getCategoriesInfo","correctValueByInterval","start","end","invert","base","sortCategories","startEndNotDefined","fontOptions","textElement","css","patchFontOptions","append","root","getBBox","remove","getDateMarkerVisibilityChecker","isDateScale","isMarkerVisible","years","months","updateScaleOptions","checkDateMarkerVisibility","isEmptyInterval","intervals","isDateTime","getTime","format","getDateFormatByTicks","getDateFormatByTickInterval","getIntervalCustomTicks","customMinorTicks","altIntervals","customBoundTicks","prepareScaleOptions","scaleOption","calculatedValueType","containerColor","parsedValue","correctValueType","normalizeEnum","validateStartEndValues","field","parser","messageToIncidentOccurred","getParser","minorTick","maxRange","correctDateWithUnitBeginning","Date","adjust","res","getSequenceByInterval","getPrecisionForSlider","d","tail","getLog","dxRangeSelector","inherit","_toggleParentsScrollSubscription","_eventsMap","name","_rootClassPrefix","_rootClass","_dataIsReady","_dataIsLoaded","_initialChanges","_themeDependentChanges","_themeSection","_fontFields","_setDeprecatedOptions","callBase","extend","_deprecatedOptions","since","message","_initCore","that","_renderer","_clipRect","clipRect","rangeViewGroup","g","attr","slidersGroup","id","scaleGroup","labelsAxesGroup","scaleBreaksGroup","trackersGroup","_axis","AxisWrapper","updateSelectedRange","e","setValue","convertVisualRangeObject","_incidentOccurred","_rangeView","RangeView","translator","getTranslator","_slidersController","SlidersController","lastSelectedRange","_rangeOption","option","isPlainObject","_options","silent","_eventTrigger","previousValue","event","axis","Tracker","controller","_getDefaultSize","_disposeCore","dispose","_applySize","rect","_clientRect","slice","_change","_optionChangesMap","dataSource","_optionChangesOrder","_change_SCALE","_setValueByDataSource","selectedRangeUpdateMode","getValue","valueIsReady","__skipAnimation","_dataSourceIsAsync","rangesInfo","allScaleSelected","_value","getVisualRangeLength","_change_DATA_SOURCE","_updateDataSource","_customChangesOrder","_change_MOSTLY_TOTAL","_applyMostlyTotalChange","_change_SLIDER_SELECTION","setSelectedRange","getVizRangeObject","_change_VALUE","_validateRange","_this","ensureValueInvalid","isValid","_applyChanges","_changes","has","apply","arguments","__isResizing","currentAnimationEnabled","canvas","animationEnabled","updateAnimationOptions","enabled","x","y","update","isHorizontal","_updateContent","_drawn","_dataSourceChangedHandler","_requestChange","_completeSeriesDataSourceCreation","updateOptions","isShowChart","setMarginOptions","getMarginOptions","updateCanvas","createPoints","chartOptions","_createSeriesDataSource","isCompactMode","_getOption","getCalculatedValueType","argTranslatorRange","chartThemeManager","getThemeManager","valueAxis","getOptions","_prepareSliderMarkersOptions","indents","rangeContainerCanvas","HEIGHT_COMPACT_MODE","_updateElements","behavior","shutterOptions","isNotSemiDiscrete","color","_themeManager","theme","_isUpdating","getFullTicks","getBusinessRange","_dataSourceItems","Axis","drawingType","categoriesSortingMethod","series","SeriesDataSource","chart","dataSourceField","argumentAxis","argRange","doNotSnap","snapToTicks","isTypeDiscrete","isValueTypeDatetime","borderColor","precision","getSelectedRange","visualRange","rangesAreEqual","_setContentSize","count","each","_","prototype","prepareAxisOptions","axisPosition","tick","opacity","placeholderSize","argumentType","semiDiscreteInterval","indentFromAxis","createDateMarkersEvent","markerTrackers","on","onPointerDown","target","addInterval","getSharpDirection","getTickStartPositionShift","checkShiftedLabels","majorTicks","boxes","minSpacing","alignment","checkLabelsOverlapping","nearestLabelsIndexes","areLabelsOverlap","removeLabel","getTwoVisibleLabels","startIndex","labels","i","push","reverse","params","axesContainerGroup","widgetClass","axisClass","isArgumentAxis","getTemplate","_updateSelectedRangeCallback","getAxisSharpDirection","getSharpDirectionByCoords","_checkShiftedLabels","constructor","businessRange","validate","setBusinessRange","draw","shift","getMarkerTrackers","drawScaleBreaks","getViewport","_this$_axis$visualRan","valueOf","isFunction","_default","addPlugin","plugin","module"],"mappings":"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","file":"range_selector.js"}