{"version":3,"sources":["../../../transpiled/viz/chart_components/zoom_and_pan.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","exports","default","_type","require","_extend","_utils","_wheel","transformEvents","_interopRequireWildcard","_drag","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","__esModule","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_extends","assign","bind","target","i","arguments","length","source","apply","EVENTS_NS","DRAG_START_EVENT_NAME","start","DRAG_EVENT_NAME","move","DRAG_END_EVENT_NAME","end","PINCH_START_EVENT_NAME","PINCH_EVENT_NAME","PINCH_END_EVENT_NAME","SCROLL_BAR_START_EVENT_NAME","SCROLL_BAR_MOVE_EVENT_NAME","SCROLL_BAR_END_EVENT_NAME","GESTURE_TIMEOUT","MIN_DRAG_DELTA","_min","Math","min","_max","max","_abs","abs","canvasToRect","canvas","x","left","y","top","width","right","height","bottom","checkCoords","rect","coords","sortAxes","axes","onlyAxisToNotify","sort","a","b","getFilteredAxes","filter","getTranslator","getBusinessRange","isEmpty","isAxisAvailablePanning","some","axis","isExtremePosition","axisZoom","getRange","getParameters","actionField","scale","e","silent","range","_axis$checkZoomingLow","checkZoomingLowerLimitOvercome","stopInteraction","correctedRange","result","handleZooming","handleZoomEnd","zoomAxes","zoom","params","zoomStarted","translator","getMinScale","_axisZoom","isPrevented","cancelEvent","originalEvent","cancelable","cancel","_default","name","init","chart","renderer","_renderer","getAxesCopy","zoomAndPan","options","actionData","argumentAxis","push","getArgumentAxis","valueAxis","concat","valueAxes","startAxesViewportChanging","axesViewportChanging","offsetCalc","centerCalc","criteria","coordField","zoomed","forEach","getOptions","viewport","visualRange","getEventScale","translate","extend","getZoomBounds","adjustRange","getVizRangeObject","_axis$checkZoomingLow2","isDefined","startValue","valueOf","endValue","deltaTranslate","pointerType","type","isMinPosition","isMaxPosition","zoomInEnabled","zoomOutEnabled","panningEnabled","inverted","enabled","storeOffset","offset","storeCenter","center","rotated","option","argZoom","valZoom","fallback","_argumentAxes","_requestChange","finishAxesViewportChanging","prepareActionData","action","getCanvas","_lastRenderingTime","curAxisRect","_valueAxes","startCenter","getPointerCoord","rootOffset","getRootOffset","pageX","pageY","calcCenterForPinch","x1","pointers","x2","y1","y2","calcCenterForDrag","calcOffsetForDrag","preventDefaults","preventDefault","stopPropagation","_stopCurrentHandling","dragStartHandler","isTouch","wantPan","pan","wantZoom","panKeyPressed","panKey","normalizeEnum","dragToZoom","_cancelPreventDefault","allowTouchGestures","cancelPanning","panningVisualRangeEnabled","skipEvent","startCoords","attr","dragBoxStyle","append","root","dragHandler","curCanvas","curCoords","zoomArg","zoomVal","deltaOffsetY","deltaOffsetX","dragEndHandler","_ref","startCoord","curCoord","from","getCoords","field","needToZoom","axisOption","panIsEmpty","argumentCoords","valueCoords","argumentAxesZoomed","valueAxesZoomed","dispose","pinchStartHandler","pinchHandler","pinchEndHandler","mouseWheelHandler","_ref2","coord","axesZoomed","targetAxes","targetCanvas","reduce","r","coordsIn","delta","canZoom","cleanup","off","css","setup","on","none","allowMouseWheel","passive","immediate","_zoomAndPan","members","_setupZoomAndPan","_themeManager","customize","addChange","code","handler","isThemeDependent","isOptionChange","module"],"mappings":"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","file":"zoom_and_pan.js"}