{"version":3,"sources":["../../../transpiled/viz/sparklines/base_sparkline.js"],"names":["exports","default","_events_engine","_interopRequireDefault","require","_dom_adapter","_type","_base_widget","_extend2","_index","_pointer","_utils","_renderer","_translator2d","_common","_tooltip","_export","obj","__esModule","DEFAULT_LINE_SPACING","TOOLTIP_TABLE_BORDER_SPACING","TOOLTIP_TABLE_KEY_VALUE_SPACE","EVENT_NS","POINTER_ACTION","addNamespace","down","move","_extend","extend","_floor","Math","floor","inCanvas","_ref","x","y","width","height","pointInCanvas","left","top","right","bottom","pointerHandler","_ref2","data","that","widget","_enableOutHandler","_showTooltip","getDefaultTemplate","_ref3","textAlign","lineSpacing","size","lineHeight","concat","_ref4","container","valueText","table","css","borderSpacing","i","length","tr","text","appendTo","append","createAxis","isHorizontal","translator","Translator2D","shiftZeroValue","getTranslator","update","range","canvas","options","getVisibleArea","visibleArea","getCanvasVisibleArea","min","max","visualRange","noop","calculateInterval","getMarginOptions","aggregatedPointBetweenTicks","_initTooltip","BaseSparkline","inherit","_getLayoutItems","_useLinks","_themeDependentChanges","_initCore","_tooltipTracker","root","attr","_createHtmlElements","_initTooltipEvents","_argumentAxis","_valueAxis","_getDefaultSize","_defaultSize","_disposeCore","_disposeWidgetElements","_disposeTooltipEvents","_ranges","_optionChangesOrder","_change_OPTIONS","_prepareOptions","_change","_customChangesOrder","_change_UPDATE","_update","_tooltipShown","hide","_cleanWidgetElements","_updateWidgetElements","_drawWidgetElements","_getCorrectCanvas","_updateRange","arg","_getStick","val","_applySize","rect","_allOptions","_setupResizeHandler","_themeManager","theme","option","_getTooltipCoords","_canvas","rootOffset","getRootOffset","off","on","tooltip","_getTooltip","isEnabled","show","_getTooltipData","_hideTooltip","_stopCurrentHandling","_outHandler","handler","_ref5","pageX","pageY","_that$_renderer$getRo","_disableOutHandler","getDocument","apply","arguments","_setTooltipRendererOptions","_tooltipRendererOptions","_setTooltipOptions","_default","addPlugin","plugin","prototype","_disposeTooltip","_getRendererOptions","setRendererOptions","_getOption","defaultContentTemplate","_getDefaultTooltipTemplate","contentTemplateOptions","contentTemplate","optionsToUpdate","enabled","_isTooltipEnabled","defaultTemplateNeeded","isFunction","customizeTooltip","_options$customizeToo","formatObject","customizeResult","call","font","exportPlugin","init","dispose","customize","members","_getExportMenuOptions","module"],"mappings":"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","file":"base_sparkline.js"}