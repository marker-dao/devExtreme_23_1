{"version":3,"sources":["../../../transpiled/viz/components/legend.js"],"names":["exports","plugin","_setLegend","_DEBUG_stubMarkerCreator","_DEBUG_restoreMarkerCreator","Legend","_utils","require","_extend2","_layout_element","_type","_title","_object","_common","_renderer","_console","_deferred","_Number","Number","_math","Math","_round","round","_max","max","_min","min","_ceil","ceil","_isDefined","isDefined","_isFunction","isFunction","_enumParser","enumParser","_normalizeEnum","normalizeEnum","_extend","extend","DEFAULT_MARGIN","DEFAULT_MARKER_HATCHING_WIDTH","DEFAULT_MARKER_HATCHING_STEP","CENTER","RIGHT","LEFT","TOP","BOTTOM","HORIZONTAL","VERTICAL","INSIDE","OUTSIDE","NONE","HEIGHT","WIDTH","parseHorizontalAlignment","parseVerticalAlignment","parseOrientation","parseItemTextPosition","parsePosition","parseItemsAlignment","getState","state","color","stateName","colorFromAction","fill","opacity","filter","hatching","step","width","getAttributes","item","size","attrs","processHatchingAttrs","indexOf","getFuncIri","parseMargins","options","margin","top","bottom","left","right","getSizeItem","markerBBox","labelBBox","defaultXMargin","defaultTopMargin","height","itemTextPosition","calculateBBoxLabelAndMarker","bBox","x","y","applyMarkerState","id","idToIndexMap","items","renderMarker","states","parseOptions","textField","allowInsidePosition","debug","assertParam","visible","markerSize","font","family","paddingLeftRight","paddingTopBottom","columnItemSpacing","rowItemSpacing","horizontalAlignment","verticalAlignment","orientation","position","itemsAlignment","hoverMode","customizeText","customizeHint","noop","_incidentOccurred","createSquareMarker","renderer","rect","createCircleMarker","circle","isCircle","type","inRect","checkLinesSize","lines","layoutOptions","countItems","margins","maxMeasureLength","maxAltMeasureLength","direction","forEach","line","i","firstItem","lineLength","length","index","offset","spacing","measure","altDirection","altMeasure","altOffset","altSpacing","countItem","decreaseItemCount","altCountItem","getLineLength","reduce","getMaxLineLength","maxLineLength","getInitPositionForDirection","initPosition","getPos","horizontal","vertical","getLines","itemIndex","tableLine","markerOffset","push","firstLine","secondLine","setMaxInLine","maxLineSize","itemMeasure","transpose","array","j","transposeArray","getAlign","getMarkerCreator","getTitleHorizontalAlignment","settings","that","_legendGroup","group","_backgroundClass","backgroundClass","_itemGroupClass","itemGroupClass","_textField","_getCustomizeObject","getFormatObject","_titleGroupClass","titleGroupClass","_allowInsidePosition","_widget","widget","_updated","_Legend","legendPrototype","prototype","clone","LayoutElement","constructor","getOptions","_options","update","data","arguments","undefined","themeManagerTitleOptions","initMarkerSize","_data","map","dataItem","marker","normal","Object","defineProperty","get","set","value","hover","selection","customizeItems","slice","_boundingRect","isVisible","Title","cssClass","root","titleOptions","title","erase","draw","_getItemData","_insideLegendGroup","g","enableLinks","append","changeLink","_createBackground","hasText","horizontalPadding","_background","_markersGroup","attr","class","_createItems","_updateElementsPosition","_measureElements","maxBBoxHeight","_items","label","getBBox","equalRowHeight","_size","_locateElements","_finalUpdate","getLayoutOptions","freeSpace","createMarker","markerShape","_markersId","templateFunction","markerTemplate","element","template","_getTemplate","markersGroup","css","patchFontOptions","_deferredItems","_templatesGroups","stateOfDataItem","normalState","normalStateFill","markerColor","defaultColor","itemGroup","markerGroup","Deferred","_createLabel","tracker","argument","argumentIndex","bBoxes","clear","render","model","container","onRendered","resolve","_createHint","getTemplatesGroups","getTemplatesDef","inverted","reverse","_adjustBackgroundSettings","_setBoundingRect","insideLegendGroup","dispose","_x1","_x2","_y2","locationOptions","_moveInInitialValues","_locateRowsColumns","move","applySelected","applyHover","resetItem","labelFormatObject","align","text","call","fontStyle","textOpacity","setTitle","isInside","backgroundColor","containerBackgroundColor","border","iteration","_getItemsLayoutOptions","_createLines","_alignLines","_applyItemPosition","labelBox","pos","markerBox","secondItem","offsetDirection","inverseLabelPosition","labelOffset","processLine","wrap","WrapperLayoutElement","itemBBoxOptions","itemBBox","itemLegend","of","my","at","columnCount","rowCount","marginTextLabel","legendBox","_calculateTotalBox","backgroundSettings","backgroundOpacity","stroke","dashStyle","rx","cornerRadius","ry","box","widthWithoutMargins","titleBox","getCorrectedLayoutOptions","verticalPadding","getActionCallback","point","act","boundingRect","cutLayoutSide","cutSide","shift","translateX","translateY","_shiftTitle","_shiftMarkers","_y1","boxWidth","titleY","titleX","center","getPosition","coordsIn","getItemByCoord","legendGroup","side","priority","name","init","_rootClassPrefix","_legend","_layout","add","extenders","_applyTilesAppearance","_applyLegendItemStyle","_buildNodes","_createLegendItems","members","legend","_getLegendData","_getOption","_themeManager","theme","_requestChange","customize","_proxyData","addChange","code","handler","isThemeDependent","option","isOptionChange","__getMarkerCreator","callback"],"mappings":"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","file":"legend.js"}