{"version":3,"sources":["../../../../../transpiled/renovation/viz/common/renderers/utils.js"],"names":["exports","textsAreEqual","setTextNodeAttribute","removeExtraAttrs","parseMultiline","parseHTML","getTextWidth","getNextDefsSvgId","getLineHeight","getItemLineHeight","getGraphicExtraProps","getFuncIri","getElementBBox","extend","convertAlignmentToAnchor","compensateSegments","combinePathParam","buildPathSegments","_type","require","_dom_adapter","_interopRequireDefault","_utils","_window","obj","__esModule","default","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","_extends","assign","bind","target","arguments","source","key","hasOwnProperty","apply","KEY_FONT_SIZE","DEFAULT_FONT_SIZE","SHARPING_CORRECTION","window","getWindow","numDefsSvgElements","concat","id","pathModified","location","href","split","buildSegments","points","buildSimpleSegment","close","list","ii","buildSimpleLineSegment","k0","k","x","undefined","arrPoints","y","_arrPoints","push","buildSimpleCurveSegment","_arrPoints2","_i","buildLineSegments","buildCurveSegments","type","segments","d","segment","j","jj","join","prepareConstSegment","constSeg","makeEqualLineSegments","short","long","makeEqualAreaSegments","shortLength","longLength","head","constsSeg1","constsSeg2","splice","oldSegments","newSegments","oldLength","newLength","originalNewSegments","makeEqualSegments","includes","element","bBox","SVGRect","getBBox","el","offsetWidth","offsetHeight","maxLengthFontSize","fontSize1","fontSize2","height1","height2","orderHtmlTree","line","node","parentStyle","parentClassName","realStyle","style","isDefined","wholeText","value","className","height","parseFloat","fontSize","tagName","isElementNode","fontWeight","fontStyle","textDecoration","color","fill","nodes","childNodes","adjustLineHeights","items","currentItem","item","inherits","NaN","html","findTagAttrs","findStyleAndClassAttrs","replace","_","p1","p2","p3","_p2$match","_p","match","map","str","text","div","createElement","innerHTML","texts","trim","tspan","getSubStringLength","_item$tspan","_item$stroke","setAttribute","stroke","defaultValue","Number","styles","isNaN","newItems","renderedItems","every","index","rtl","left","center","right","getTransformation","props","rotate","rotateX","rotateY","scaleX","scaleY","sharp","sharpDirection","strokeWidth","translateX","translateY","transformations","transDir","strokeOdd","correctionX","correctionY","_ref","_ref2","scaleXDefined","scaleYDefined","getDashStyle","dashStyle","sw","normalizeEnum","dashArray","parseInt","transform"],"mappings":"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","file":"utils.js"}