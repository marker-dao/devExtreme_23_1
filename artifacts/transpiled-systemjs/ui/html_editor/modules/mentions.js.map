{"version":3,"sources":["../../../../transpiled/ui/html_editor/modules/mentions.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","exports","default","_renderer","_interopRequireDefault","require","_devextremeQuill","_data","_type","_extend","_element","_events_engine","_base","_popup","_mention","__esModule","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","Constructor","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","TypeError","Number","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","MentionModule","USER_ACTION","DEFAULT_MARKER","KEYS","ARROW_UP","ARROW_DOWN","ARROW_LEFT","ARROW_RIGHT","ENTER","ESCAPE","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","NAVIGATION_KEYS","ALLOWED_PREFIX_CHARS","DISABLED_STATE_CLASS","register","_PopupModule","_proto","_getDefaultOptions","baseConfig","extend","itemTemplate","valueExpr","displayExpr","template","searchExpr","searchTimeout","minSearchLength","quill","options","_this","_mentions","mentions","forEach","item","marker","preparedTemplate","editorInstance","_getTemplate","addTemplate","editorKey","getMentionKeyInTemplateStorage","_attachKeyboardHandlers","addCleanCallback","clean","on","onTextChange","keyboard","addBinding","_moveToItem","_selectItemHandler","enterBindings","bindings","unshift","pop","_escapeKeyHandler","shiftKey","_ignoreKeyHandler","direction","dataSource","_list","getDataSource","_isMentionActive","isLoading","$focusedItem","option","defaultItemPosition","$nextItem","_activeListItems","getPublicElement","scrollToItem","_fitIntoRange","value","start","end","selectItem","hide","renderList","$container","compileGetters","_ref","_valueGetter","compileGetter","_idGetter","_getListConfig","_this2","onContentReady","_hasSearch","repaint","_focusFirstElement","insertEmbedContent","markerLength","_activeMentionConfig","textLength","_searchValue","caretPosition","getPosition","selectedItem","id","keyInTemplateStorage","Delta","import","startIndex","Math","max","newDelta","retain","delete","insert","mention","updateContents","setSelection","_getLastInsertOperation","ops","lastOperation","isLastOperationInsert","isLastOperationDelete","penultOperation","isPenultOperationInsert","isSelectionReplacing","oldDelta","source","_isPopupVisible","_processSearchValue","_filterList","lastInsertOperation","checkMentionRequest","operation","isInsertOperation","slice","_ref2","caret","getSelection","isString","_isMarkerPartOfText","_updateList","isOnNewLine","index","_getCharByIndex","savePosition","_popupPosition","show","indexOf","getContents","_ref3","unselectAll","searchValue","_this3","_isMinSearchLengthExceeded","_resetFilter","clearTimeout","_searchTimer","setTimeout","_search","$firstItem","first","_getPopupConfig","_this4","hideOnParentScroll","onShown","onHidden","focusStateEnabled","_this5","keys","removeTemplate","get","_this$_popup","position","_this$quill$getBounds","getBounds","mentionLeft","left","mentionTop","top","mentionHeight","height","_$$offset","root","offset","leftOffset","topOffset","positionEvent","Event","pageX","pageY","of","v","my","at","collision","y","x","itemElements","filter","concat","_default","module"],"mappings":"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","file":"mentions.js"}