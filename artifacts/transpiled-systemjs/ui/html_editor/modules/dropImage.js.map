{"version":3,"sources":["../../../../transpiled/ui/html_editor/modules/dropImage.js"],"names":["exports","default","_devextremeQuill","_interopRequireDefault","require","_events_engine","_index","_iterator","_browser","_window","_base","obj","__esModule","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","DropImageModule","_BaseModule","quill","options","_this","call","widgetName","editorInstance","NAME","on","root","addNamespace","_dropHandler","_pasteHandler","_proto","e","_dataTransfer$files","dataTransfer","originalEvent","hasFiles","files","length","saveValueChangeEvent","preventDefault","_getImage","_addImage","_clipboardData$items","_this2","clipboardData","hasDataItems","items","isHtmlData","getData","imageData","_isBrowserSupportImagePaste","_ref","mozilla","chrome","version","_isImage","file","type","match","callback","_this3","window","getWindow","each","index","reader","FileReader","onload","_ref2","target","result","readableFile","getAsFile","Blob","readAsDataURL","data","selection","getSelection","pasteIndex","getLength","insertEmbed","_default","module"],"mappings":"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","file":"dropImage.js"}