{"version":3,"sources":["../../../../transpiled/ui/scheduler/appointments/viewModelGenerator.js"],"names":["exports","AppointmentViewModelGenerator","_strategy_vertical","_interopRequireDefault","require","_strategy_week","_strategy_horizontal","_strategy_horizontal_month_line","_strategy_horizontal_month","_strategy_agenda","_utils","obj","__esModule","default","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","RENDERING_STRATEGIES","_proto","initRenderingStrategy","options","RenderingStrategy","appointmentRenderingStrategyName","renderingStrategy","generate","filteredItems","isRenovatedAppointments","appointments","slice","getRenderingStrategy","positionMap","createTaskPositionMap","viewModel","postProcess","makeRenovatedViewModels","supportAllDayRow","isVerticalGroupOrientation","map","data","index","keepAppointmentSettings","settings","appointmentSettings","forEach","item","direction","getDirection","allDay","itemData","needRepaint","needRemove","isVerticalGrouping","_this","strategy","regularViewModels","allDayViewModels","compactOptions","isAllDayPanel","_ref","prepareViewModel","isCompact","push","compactViewModel","virtual","appointmentViewModel","compactViewModels","prepareCompactViewModels","result","regular","geometry","getAppointmentGeometry","getAppointmentKey","appointment","leftVirtualWidth","topVirtualHeight","info","appointmentReduced","groupIndex","getCompactViewModelFrame","isAllDay","left","top","width","height","items","colors","_this2","regularCompact","allDayCompact","_ref2","_viewModel$index$item","resourceColor","toArray","keys"],"mappings":"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","file":"viewModelGenerator.js"}