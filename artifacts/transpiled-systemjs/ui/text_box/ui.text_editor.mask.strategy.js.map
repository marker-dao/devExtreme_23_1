{"version":3,"sources":["../../../transpiled/ui/text_box/ui.text_editor.mask.strategy.js"],"names":["exports","default","_events_engine","_interopRequireDefault","require","_index","_browser","_dom","obj","__esModule","MASK_EVENT_NAMESPACE","BLUR_EVENT","EMPTY_CHAR","DELETE_INPUT_TYPES","HISTORY_INPUT_TYPES","EVENT_NAMES","getEmptyString","length","repeat","MaskStrategy","editor","_proto","prototype","_editorOption","_this$editor","option","apply","arguments","_editorInput","_input","_editorCaret","newCaret","_caret","_attachChangeEventHandler","_this","split","includes","$input","namespace","addNamespace","on","e","_changeHandler","_beforeInputHandler","_previousText","_prevCaret","_inputHandler","event","originalEvent","inputType","_handleHistoryInputEvent","_handleBackwardDeleteInputEvent","currentCaret","end","_clearSelectedText","_autoFillHandler","_handleInsertTextInputEvent","data","stopImmediatePropagation","caret","_updateEditorMask","start","text","setForwardDirection","_adjustCaret","adjustedForwardCaret","setBackwardDirection","_this$_prevCaret","_this$_prevCaret2","_isAutoFill","_this$_prevCaret$star","_this$_prevCaret3","hasValidChars","args","textLength","processedCharsCount","_handleChain","_displayMask","isForwardDirection","_this$_editorCaret","correction","hasSkippedStub","_focusInHandler","_this2","_showMaskPlaceholder","_isValueEmpty","_maskRulesChain","first","_caretTimeout","setTimeout","_focusOutHandler","_renderDisplayText","_delHandler","_maskKeyHandler","_hasSelection","_handleKey","_cutHandler","selectedText","val","substring","clipboardText","_dropHandler","_this3","_clearDragTimer","_dragTimer","value","_convertToValue","_pasteHandler","pastedText","restText","accepted","_this4","inputVal","_inputHandlerTimer","_validateMask","webkit","_input$matches","input","get","matches","clearTimeout","getHandler","handlerName","_this5","_this6","concat","call","attachEvents","_this7","forEach","eventName","toLowerCase","detachEvents","off","clean","module"],"mappings":";;;;;AAAA;;;;AAEAA,UAAQC,OAAR,GAAkB,KAAK,CAAvB;AACA,MAAIC,iBAAiBC,uBAAuBC,WAAQ,iCAAR,CAAvB,CAArB;AACA,MAAIC,SAASD,WAAQ,0BAAR,CAAb;AACA,MAAIE,WAAWH,uBAAuBC,WAAQ,0BAAR,CAAvB,CAAf;AACA,MAAIG,OAAOH,WAAQ,sBAAR,CAAX;AACA,WAASD,sBAAT,CAAgCK,GAAhC,EAAqC;AAAE,WAAOA,OAAOA,IAAIC,UAAX,GAAwBD,GAAxB,GAA8B,EAAEP,SAASO,GAAX,EAArC;AAAwD;AAC/F,MAAIE,uBAAuB,QAA3B;AACA,MAAIC,aAAa,uBAAjB;AACA,MAAIC,aAAa,GAAjB;AACA,MAAIC,qBAAqB,CAAC,uBAAD,EAA0B,wBAA1B,EAAoD,eAApD,EAAqE,wBAArE,CAAzB;AACA,MAAIC,sBAAsB,CAAC,aAAD,EAAgB,aAAhB,CAA1B;AACA,MAAIC,cAAc,CAAC,SAAD,EAAY,UAAZ,EAAwB,OAAxB,EAAiC,OAAjC,EAA0C,KAA1C,EAAiD,MAAjD,EAAyD,aAAzD,CAAlB;AACA,WAASC,cAAT,CAAwBC,MAAxB,EAAgC;AAC9B,WAAOL,WAAWM,MAAX,CAAkBD,MAAlB,CAAP;AACD;AACD,MAAIE,eAAe,aAAa,YAAY;AAC1C,aAASA,YAAT,CAAsBC,MAAtB,EAA8B;AAC5B,WAAKA,MAAL,GAAcA,MAAd;AACD;AACD,QAAIC,SAASF,aAAaG,SAA1B;AACAD,WAAOE,aAAP,GAAuB,SAASA,aAAT,GAAyB;AAC9C,UAAIC,YAAJ;AACA,aAAO,CAACA,eAAe,KAAKJ,MAArB,EAA6BK,MAA7B,CAAoCC,KAApC,CAA0CF,YAA1C,EAAwDG,SAAxD,CAAP;AACD,KAHD;AAIAN,WAAOO,YAAP,GAAsB,SAASA,YAAT,GAAwB;AAC5C,aAAO,KAAKR,MAAL,CAAYS,MAAZ,EAAP;AACD,KAFD;AAGAR,WAAOS,YAAP,GAAsB,SAASA,YAAT,CAAsBC,QAAtB,EAAgC;AACpD,UAAI,CAACA,QAAL,EAAe;AACb,eAAO,KAAKX,MAAL,CAAYY,MAAZ,EAAP;AACD;AACD,WAAKZ,MAAL,CAAYY,MAAZ,CAAmBD,QAAnB;AACD,KALD;AAMAV,WAAOY,yBAAP,GAAmC,SAASA,yBAAT,GAAqC;AACtE,UAAIC,QAAQ,IAAZ;AACA,UAAI,CAAC,KAAKX,aAAL,CAAmB,kBAAnB,EAAuCY,KAAvC,CAA6C,GAA7C,EAAkDC,QAAlD,CAA2D,QAA3D,CAAL,EAA2E;AACzE;AACD;AACD,UAAIC,SAAS,KAAKT,YAAL,EAAb;AACA,UAAIU,YAAY,CAAC,GAAGjC,OAAOkC,YAAX,EAAyB5B,UAAzB,EAAqCD,oBAArC,CAAhB;AACAR,qBAAeD,OAAf,CAAuBuC,EAAvB,CAA0BH,MAA1B,EAAkCC,SAAlC,EAA6C,UAAUG,CAAV,EAAa;AACxDP,cAAMd,MAAN,CAAasB,cAAb,CAA4BD,CAA5B;AACD,OAFD;AAGD,KAVD;AAWApB,WAAOsB,mBAAP,GAA6B,SAASA,mBAAT,GAA+B;AAC1D,WAAKC,aAAL,GAAqB,KAAKrB,aAAL,CAAmB,MAAnB,CAArB;AACA,WAAKsB,UAAL,GAAkB,KAAKf,YAAL,EAAlB;AACD,KAHD;AAIAT,WAAOyB,aAAP,GAAuB,SAASA,aAAT,CAAuBC,KAAvB,EAA8B;AACnD,UAAIC,gBAAgBD,MAAMC,aAA1B;AACA,UAAI,CAACA,aAAL,EAAoB;AAClB;AACD;AACD,UAAIC,YAAYD,cAAcC,SAA9B;AACA,UAAInC,oBAAoBsB,QAApB,CAA6Ba,SAA7B,CAAJ,EAA6C;AAC3C,aAAKC,wBAAL;AACD,OAFD,MAEO,IAAIrC,mBAAmBuB,QAAnB,CAA4Ba,SAA5B,CAAJ,EAA4C;AACjD,aAAKE,+BAAL;AACD,OAFM,MAEA;AACL,YAAIC,eAAe,KAAKtB,YAAL,EAAnB;AACA,YAAI,CAACsB,aAAaC,GAAlB,EAAuB;AACrB;AACD;AACD,aAAKC,kBAAL;AACA,aAAKC,gBAAL,CAAsBP,aAAtB;AACA,aAAKlB,YAAL,CAAkBsB,YAAlB;AACA,aAAKI,2BAAL,CAAiCR,cAAcS,IAA/C;AACD;AACD,UAAI,KAAKlC,aAAL,CAAmB,MAAnB,MAA+B,KAAKqB,aAAxC,EAAuD;AACrDG,cAAMW,wBAAN;AACD;AACF,KAvBD;AAwBArC,WAAO6B,wBAAP,GAAkC,SAASA,wBAAT,GAAoC;AACpE,UAAIS,QAAQ,KAAK7B,YAAL,EAAZ;AACA,WAAK8B,iBAAL,CAAuB;AACrBC,eAAOF,MAAME,KADQ;AAErB5C,gBAAQ0C,MAAMN,GAAN,GAAYM,MAAME,KAFL;AAGrBC,cAAM;AAHe,OAAvB;AAKA,WAAKhC,YAAL,CAAkB,KAAKe,UAAvB;AACD,KARD;AASAxB,WAAO8B,+BAAP,GAAyC,SAASA,+BAAT,GAA2C;AAClF,WAAKG,kBAAL;AACA,UAAIK,QAAQ,KAAK7B,YAAL,EAAZ;AACA,WAAKV,MAAL,CAAY2C,mBAAZ;AACA,WAAK3C,MAAL,CAAY4C,YAAZ;AACA,UAAIC,uBAAuB,KAAKnC,YAAL,EAA3B;AACA,UAAImC,qBAAqBJ,KAArB,KAA+BF,MAAME,KAAzC,EAAgD;AAC9C,aAAKzC,MAAL,CAAY8C,oBAAZ;AACA,aAAK9C,MAAL,CAAY4C,YAAZ;AACD;AACF,KAVD;AAWA3C,WAAOiC,kBAAP,GAA4B,SAASA,kBAAT,GAA8B;AACxD,UAAIa,gBAAJ,EAAsBC,iBAAtB;AACA,UAAInD,SAAS,CAAC,CAACkD,mBAAmB,KAAKtB,UAAzB,MAAyC,IAAzC,IAAiDsB,qBAAqB,KAAK,CAA3E,GAA+E,KAAK,CAApF,GAAwFA,iBAAiBd,GAA1G,KAAkH,CAACe,oBAAoB,KAAKvB,UAA1B,MAA0C,IAA1C,IAAkDuB,sBAAsB,KAAK,CAA7E,GAAiF,KAAK,CAAtF,GAA0FA,kBAAkBP,KAA9N,KAAwO,CAArP;AACA,UAAIF,QAAQ,KAAK7B,YAAL,EAAZ;AACA,UAAI,CAAC,KAAKuC,WAAL,EAAL,EAAyB;AACvB,aAAKjD,MAAL,CAAY8C,oBAAZ;AACA,aAAKN,iBAAL,CAAuB;AACrBC,iBAAOF,MAAME,KADQ;AAErB5C,kBAAQA,MAFa;AAGrB6C,gBAAM9C,eAAeC,MAAf;AAHe,SAAvB;AAKD;AACF,KAZD;AAaAI,WAAOmC,2BAAP,GAAqC,SAASA,2BAAT,CAAqCC,IAArC,EAA2C;AAC9E,UAAIa,qBAAJ,EAA2BC,iBAA3B;AACA;AACA,UAAIT,OAAOL,SAAS,IAAT,IAAiBA,SAAS,KAAK,CAA/B,GAAmCA,IAAnC,GAA0C,EAArD;AACA,WAAKrC,MAAL,CAAY2C,mBAAZ;AACA,UAAIS,gBAAgB,KAAKZ,iBAAL,CAAuB;AACzCC,eAAO,CAACS,wBAAwB,CAACC,oBAAoB,KAAK1B,UAA1B,MAA0C,IAA1C,IAAkD0B,sBAAsB,KAAK,CAA7E,GAAiF,KAAK,CAAtF,GAA0FA,kBAAkBV,KAArI,MAAgJ,IAAhJ,IAAwJS,0BAA0B,KAAK,CAAvL,GAA2LA,qBAA3L,GAAmN,CADjL;AAEzCrD,gBAAQ6C,KAAK7C,MAAL,IAAe,CAFkB;AAGzC6C,cAAMA;AAHmC,OAAvB,CAApB;AAKA,UAAI,CAACU,aAAL,EAAoB;AAClB,aAAK1C,YAAL,CAAkB,KAAKe,UAAvB;AACD;AACF,KAbD;AAcAxB,WAAOuC,iBAAP,GAA2B,SAASA,iBAAT,CAA2Ba,IAA3B,EAAiC;AAC1D,UAAIC,aAAaD,KAAKX,IAAL,CAAU7C,MAA3B;AACA,UAAI0D,sBAAsB,KAAKvD,MAAL,CAAYwD,YAAZ,CAAyBH,IAAzB,CAA1B;AACA,WAAKrD,MAAL,CAAYyD,YAAZ;AACA,UAAI,KAAKzD,MAAL,CAAY0D,kBAAZ,EAAJ,EAAsC;AACpC,YAAIC,qBAAqB,KAAKjD,YAAL,EAAzB;AAAA,YACE+B,QAAQkB,mBAAmBlB,KAD7B;AAAA,YAEER,MAAM0B,mBAAmB1B,GAF3B;AAGA,YAAI2B,aAAaL,sBAAsBD,UAAvC;AACA,YAAIO,iBAAiBN,sBAAsB,CAA3C;AACA,YAAIM,kBAAkBP,eAAe,CAArC,EAAwC;AACtC,eAAK5C,YAAL,CAAkB;AAChB+B,mBAAOA,QAAQmB,UADC;AAEhB3B,iBAAKA,MAAM2B;AAFK,WAAlB;AAID;AACD,aAAK5D,MAAL,CAAY4C,YAAZ;AACD;AACD,aAAO,CAAC,CAACW,mBAAT;AACD,KAnBD;AAoBAtD,WAAO6D,eAAP,GAAyB,SAASA,eAAT,GAA2B;AAClD,UAAIC,SAAS,IAAb;AACA,WAAK/D,MAAL,CAAYgE,oBAAZ;AACA,WAAKhE,MAAL,CAAY2C,mBAAZ;AACA,UAAI,CAAC,KAAK3C,MAAL,CAAYiE,aAAZ,EAAD,IAAgC,KAAK9D,aAAL,CAAmB,SAAnB,CAApC,EAAmE;AACjE,aAAKH,MAAL,CAAY4C,YAAZ;AACD,OAFD,MAEO;AACL,YAAIL,QAAQ,KAAKvC,MAAL,CAAYkE,eAAZ,CAA4BC,KAA5B,EAAZ;AACA,aAAKC,aAAL,GAAqBC,WAAW,YAAY;AAC1CN,iBAAOrD,YAAP,CAAoB;AAClB+B,mBAAOF,KADW;AAElBN,iBAAKM;AAFa,WAApB;AAID,SALoB,EAKlB,CALkB,CAArB;AAMD;AACF,KAfD;AAgBAtC,WAAOqE,gBAAP,GAA0B,SAASA,gBAAT,CAA0B3C,KAA1B,EAAiC;AACzD,WAAK3B,MAAL,CAAYsB,cAAZ,CAA2BK,KAA3B;AACA,UAAI,KAAKxB,aAAL,CAAmB,cAAnB,MAAuC,SAAvC,IAAoD,KAAKH,MAAL,CAAYiE,aAAZ,EAAxD,EAAqF;AACnF,aAAK9D,aAAL,CAAmB,MAAnB,EAA2B,EAA3B;AACA,aAAKH,MAAL,CAAYuE,kBAAZ,CAA+B,EAA/B;AACD;AACF,KAND;AAOAtE,WAAOuE,WAAP,GAAqB,SAASA,WAAT,CAAqB7C,KAArB,EAA4B;AAC/C,UAAI3B,SAAS,KAAKA,MAAlB;AACAA,aAAOyE,eAAP,CAAuB9C,KAAvB,EAA8B,YAAY;AACxC,YAAI,CAAC3B,OAAO0E,aAAP,EAAL,EAA6B;AAC3B1E,iBAAO2E,UAAP,CAAkBnF,UAAlB;AACD;AACF,OAJD;AAKD,KAPD;AAQAS,WAAO2E,WAAP,GAAqB,SAASA,WAAT,CAAqBjD,KAArB,EAA4B;AAC/C,UAAIY,QAAQ,KAAK7B,YAAL,EAAZ;AACA,UAAImE,eAAe,KAAKrE,YAAL,GAAoBsE,GAApB,GAA0BC,SAA1B,CAAoCxC,MAAME,KAA1C,EAAiDF,MAAMN,GAAvD,CAAnB;AACA,WAAKjC,MAAL,CAAYyE,eAAZ,CAA4B9C,KAA5B,EAAmC,YAAY;AAC7C,eAAO,CAAC,GAAGxC,KAAK6F,aAAT,EAAwBrD,KAAxB,EAA+BkD,YAA/B,CAAP;AACD,OAFD;AAGD,KAND;AAOA5E,WAAOgF,YAAP,GAAsB,SAASA,YAAT,GAAwB;AAC5C,UAAIC,SAAS,IAAb;AACA,WAAKC,eAAL;AACA,WAAKC,UAAL,GAAkBf,WAAW,YAAY;AACvC,YAAIgB,QAAQH,OAAOlF,MAAP,CAAcsF,eAAd,CAA8BJ,OAAO1E,YAAP,GAAsBsE,GAAtB,EAA9B,CAAZ;AACAI,eAAO/E,aAAP,CAAqB,OAArB,EAA8BkF,KAA9B;AACD,OAHiB,CAAlB;AAID,KAPD;AAQApF,WAAOsF,aAAP,GAAuB,SAASA,aAAT,CAAuB5D,KAAvB,EAA8B;AACnD,UAAI3B,SAAS,KAAKA,MAAlB;AACA,UAAI,KAAKG,aAAL,CAAmB,UAAnB,CAAJ,EAAoC;AAClC;AACD;AACD,UAAIoC,QAAQ,KAAK7B,YAAL,EAAZ;AACAV,aAAOyE,eAAP,CAAuB9C,KAAvB,EAA8B,YAAY;AACxC,YAAI6D,aAAa,CAAC,GAAGrG,KAAK6F,aAAT,EAAwBrD,KAAxB,CAAjB;AACA,YAAI8D,WAAWzF,OAAOkE,eAAP,CAAuBxB,IAAvB,GAA8BqC,SAA9B,CAAwCxC,MAAMN,GAA9C,CAAf;AACA,YAAIyD,WAAW1F,OAAOwD,YAAP,CAAoB;AACjCd,gBAAM8C,UAD2B;AAEjC/C,iBAAOF,MAAME,KAFoB;AAGjC5C,kBAAQ2F,WAAW3F;AAHc,SAApB,CAAf;AAKA,YAAIc,WAAW4B,MAAME,KAAN,GAAciD,QAA7B;AACA1F,eAAOwD,YAAP,CAAoB;AAClBd,gBAAM+C,QADY;AAElBhD,iBAAO9B,QAFW;AAGlBd,kBAAQ4F,SAAS5F;AAHC,SAApB;AAKAG,eAAOY,MAAP,CAAc;AACZ6B,iBAAO9B,QADK;AAEZsB,eAAKtB;AAFO,SAAd;AAID,OAlBD;AAmBD,KAzBD;AA0BAV,WAAOkC,gBAAP,GAA0B,SAASA,gBAAT,CAA0BR,KAA1B,EAAiC;AACzD,UAAIgE,SAAS,IAAb;AACA,UAAI3F,SAAS,KAAKA,MAAlB;AACA,UAAI4F,WAAW,KAAKpF,YAAL,GAAoBsE,GAApB,EAAf;AACA,WAAKe,kBAAL,GAA0BxB,WAAW,YAAY;AAC/C,YAAIsB,OAAO1C,WAAP,EAAJ,EAA0B;AACxBjD,iBAAOyE,eAAP,CAAuB9C,KAAvB,EAA8B,YAAY;AACxC3B,mBAAOwD,YAAP,CAAoB;AAClBd,oBAAMkD,QADY;AAElBnD,qBAAO,CAFW;AAGlB5C,sBAAQ+F,SAAS/F;AAHC,aAApB;AAKD,WAND;AAOAG,iBAAO8F,aAAP;AACD;AACF,OAXyB,CAA1B;AAYD,KAhBD;AAiBA7F,WAAOgD,WAAP,GAAqB,SAASA,WAAT,GAAuB;AAC1C,UAAIhC,SAAS,KAAKT,YAAL,EAAb;AACA,UAAItB,SAASL,OAAT,CAAiBkH,MAArB,EAA6B;AAC3B,YAAIC,cAAJ;AACA,YAAIC,QAAQhF,OAAOiF,GAAP,CAAW,CAAX,CAAZ;AACA,eAAO,CAACF,iBAAiBC,UAAU,IAAV,IAAkBA,UAAU,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,MAAME,OAAN,CAAc,mBAAd,CAAhE,MAAwG,IAAxG,IAAgHH,mBAAmB,KAAK,CAAxI,GAA4IA,cAA5I,GAA6J,KAApK;AACD;AACD,aAAO,KAAP;AACD,KARD;AASA/F,WAAOkF,eAAP,GAAyB,SAASA,eAAT,GAA2B;AAClDiB,mBAAa,KAAKhB,UAAlB;AACD,KAFD;AAGAnF,WAAOoG,UAAP,GAAoB,SAASA,UAAT,CAAoBC,WAApB,EAAiC;AACnD,UAAIC,SAAS,IAAb;AACA,aAAO,UAAUlD,IAAV,EAAgB;AACrB,YAAImD,MAAJ;AACA,SAACA,SAASD,OAAO,IAAIE,MAAJ,CAAWH,WAAX,EAAwB,SAAxB,CAAP,CAAV,MAA0D,IAA1D,IAAkEE,WAAW,KAAK,CAAlF,GAAsF,KAAK,CAA3F,GAA+FA,OAAOE,IAAP,CAAYH,MAAZ,EAAoBlD,IAApB,CAA/F;AACD,OAHD;AAID,KAND;AAOApD,WAAO0G,YAAP,GAAsB,SAASA,YAAT,GAAwB;AAC5C,UAAIC,SAAS,IAAb;AACA,UAAI3F,SAAS,KAAKT,YAAL,EAAb;AACAb,kBAAYkH,OAAZ,CAAoB,UAAUC,SAAV,EAAqB;AACvC,YAAI5F,YAAY,CAAC,GAAGjC,OAAOkC,YAAX,EAAyB2F,UAAUC,WAAV,EAAzB,EAAkDzH,oBAAlD,CAAhB;AACAR,uBAAeD,OAAf,CAAuBuC,EAAvB,CAA0BH,MAA1B,EAAkCC,SAAlC,EAA6C0F,OAAOP,UAAP,CAAkBS,SAAlB,CAA7C;AACD,OAHD;AAIA,WAAKjG,yBAAL;AACD,KARD;AASAZ,WAAO+G,YAAP,GAAsB,SAASA,YAAT,GAAwB;AAC5ClI,qBAAeD,OAAf,CAAuBoI,GAAvB,CAA2B,KAAKzG,YAAL,EAA3B,EAAgD,IAAIiG,MAAJ,CAAWnH,oBAAX,CAAhD;AACD,KAFD;AAGAW,WAAOiH,KAAP,GAAe,SAASA,KAAT,GAAiB;AAC9B,WAAK/B,eAAL;AACAiB,mBAAa,KAAKhC,aAAlB;AACAgC,mBAAa,KAAKP,kBAAlB;AACD,KAJD;AAKA,WAAO9F,YAAP;AACD,GA1P+B,EAAhC;AA2PAnB,UAAQC,OAAR,GAAkBkB,YAAlB;AACAoH,SAAOvI,OAAP,GAAiBA,QAAQC,OAAzB;AACAsI,SAAOvI,OAAP,CAAeC,OAAf,GAAyBD,QAAQC,OAAjC","file":"ui.text_editor.mask.strategy.js"}