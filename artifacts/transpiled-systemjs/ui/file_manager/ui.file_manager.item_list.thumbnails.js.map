{"version":3,"sources":["../../../transpiled/ui/file_manager/ui.file_manager.item_list.thumbnails.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_extend","_type","_window","_deferred","_events_engine","_index","_contextmenu","_uiFile_manager","_message","_uiFile_managerItems_listThumbnails","_uiFile_manager2","_file_items_controller","obj","__esModule","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","FILE_MANAGER_THUMBNAILS_ITEM_LIST_CLASS","FILE_MANAGER_THUMBNAILS_ITEM_CLASS","FILE_MANAGER_THUMBNAILS_ITEM_THUMBNAIL_CLASS","FILE_MANAGER_THUMBNAILS_EVENT_NAMESPACE","FileManagerThumbnailsItemList","_FileManagerItemListB","apply","arguments","_proto","_initMarkup","call","_needResetScrollPosition","$element","addClass","contextMenuEvent","addNamespace","name","on","_onContextMenu","_createItemList","selectionMode","_isMultipleSelectionMode","$itemListContainer","appendTo","_itemList","_createComponent","dataSource","_createDataSource","selectedItemKeys","option","focusedItemKey","activeStateEnabled","hoverStateEnabled","loopItemFocus","focusStateEnabled","onItemEnterKeyPressed","_tryOpen","itemThumbnailTemplate","_getItemThumbnailContainer","getTooltipText","_getTooltipText","onSelectionChanged","_onItemListSelectionChanged","onFocusedItemChanged","_onItemListFocusedItemChanged","onContentReady","_onItemListContentReady","e","preventDefault","stopPropagation","_isDesktop","items","targetItemElement","target","closest","_getItemSelector","targetItem","length","getItemByItemElement","selectItem","_getFileItemsForContextMenu","itemData","itemElement","undefined","_showContextMenu","_getItemThumbnailCssClass","concat","fileItemInfo","item","fileItem","tooltipText","text","isDirectory","format","getDisplayFileSize","size","dateModified","_onItemDblClick","$item","currentTarget","_raiseSelectedItemOpened","_getItemsInternal","then","deferred","Deferred","setTimeout","resolve","promise","_disableDragging","_getDefaultOptions","extend","_ref","addedItemKeys","removedItemKeys","selectedItemInfos","getSelectedItems","selectedItems","map","itemInfo","key","_tryRaiseSelectionChanged","currentSelectedItemKeys","currentDeselectedItemKeys","_ref2","_selectItemSingleSelection","fileSystemItem","_onFocusedItemChanged","itemKey","_resetScrollTopPosition","_this","hasWindow","_this$_itemList$getSc","getScrollable","scrollTo","_setSelectedItemKeys","itemKeys","_setFocusedItemKey","refresh","options","operation","actualOptions","hasOwnProperty","isDefined","OPERATIONS","NAVIGATION","_refreshDeferred","_deselectItem","getItemElementByItem","unselectItem","clearSelection","_default","module"],"mappings":"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","file":"ui.file_manager.item_list.thumbnails.js"}