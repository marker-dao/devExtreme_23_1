{"version":3,"sources":["../../../transpiled/ui/popup/popup_drag.js"],"names":["exports","default","_translator","require","_dom_adapter","_interopRequireDefault","_size","_math","_type","_events_engine","_drag","_index","obj","__esModule","KEYBOARD_DRAG_STEP","PopupDrag","config","init","_proto","prototype","_ref","dragEnabled","handle","draggableElement","positionController","_positionController","_draggableElement","_handle","_dragEnabled","unsubscribe","subscribe","moveDown","e","_moveTo","moveUp","moveLeft","moveRight","_this","eventNames","_getEventNames","on","startEventName","_dragStartHandler","updateEventName","_dragUpdateHandler","endEventName","_dragEndHandler","off","namespace","addNamespace","start","move","end","allowedOffsets","_getAllowedOffsets","_prevOffset","x","y","targetElements","maxTopOffset","top","maxBottomOffset","bottom","maxLeftOffset","left","maxRightOffset","right","targetOffset","offset","_moveByOffset","event","dragHandled","detectVisualPositionChange","preventDefault","stopPropagation","_fitOffsetIntoAllowedRange","fitIntoRange","_getContainerDimensions","document","getDocument","container","$dragResizeContainer","get","containerWidth","getOuterWidth","containerHeight","getOuterHeight","isWindow","Math","max","body","clientHeight","clientWidth","width","height","_getContainerPosition","getOffset","_getElementPosition","_getInnerDelta","containerDimensions","elementDimensions","_getElementDimensions","_getOuterDelta","_this$_getElementDime","outsideDragFactor","_getFullDelta","fullDelta","outerDelta","offsetWidth","offsetHeight","isDragAllowed","elementPosition","containerPosition","currentPosition","locate","newPosition","_default","module"],"mappings":"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","file":"popup_drag.js"}