{"version":3,"sources":["../../../transpiled/ui/scroll_view/ui.scroll_view.native.swipe_down.js"],"names":["exports","default","_size","require","_renderer","_interopRequireDefault","_callbacks","_translator","_index","_uiScrollable","_load_indicator","_deferred","obj","__esModule","SCROLLVIEW_PULLDOWN_DOWN_LOADING_CLASS","SCROLLVIEW_PULLDOWN_INDICATOR_CLASS","SCROLLVIEW_PULLDOWN_REFRESHING_CLASS","PULLDOWN_ICON_CLASS","STATE_RELEASED","STATE_READY","STATE_REFRESHING","STATE_TOUCHED","STATE_PULLED","SwipeDownNativeScrollViewStrategy","inherit","_init","scrollView","callBase","_$topPocket","_$pullDown","_$scrollViewContent","content","_$container","container","_initCallbacks","_location","pullDownCallbacks","releaseCallbacks","reachBottomCallbacks","render","_renderPullDown","_releaseState","$loadContainer","addClass","$loadIndicator","$element","_$icon","empty","append","_state","_releasePullDown","_updateDimensions","css","opacity","_topPocketSize","get","clientHeight","contentEl","containerEl","_bottomBoundary","Math","max","_allowedDirections","allowedDirections","vertical","_pullDownEnabled","handleInit","e","_startClientY","eventData","originalEvent","y","handleMove","_deltaY","_complete","preventDefault","_movePullDown","pullDownHeight","_getPullDownHeight","top","min","_getPullDownStartPosition","angle","toggleClass","move","transform","_isPullDown","round","getOuterHeight","_$element","handleEnd","_pullDownRefreshing","handleStop","handleScroll","currentLocation","location","scrollDelta","_isReachBottom","_reachBottom","_stateReleased","_reachBottomEnabled","floor","fire","removeClass","_pullDownRefreshHandler","_refreshPullDown","pullDownEnable","enabled","toggle","reachBottomEnable","pendingRelease","release","deferred","Deferred","clearTimeout","_releaseTimeout","setTimeout","_updateAction","resolve","bind","promise","dispose","_pullDownRefreshTimeout","_default","module"],"mappings":"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","file":"ui.scroll_view.native.swipe_down.js"}