{"version":3,"sources":["../../../transpiled/ui/scroll_view/ui.scroll_view.native.pull_down.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_callbacks","_translator","_uiScrollable","_load_indicator","_iterator","_deferred","obj","__esModule","SCROLLVIEW_PULLDOWN_REFRESHING_CLASS","SCROLLVIEW_PULLDOWN_READY_CLASS","SCROLLVIEW_PULLDOWN_IMAGE_CLASS","SCROLLVIEW_PULLDOWN_INDICATOR_CLASS","SCROLLVIEW_PULLDOWN_TEXT_CLASS","SCROLLVIEW_PULLDOWN_VISIBLE_TEXT_CLASS","STATE_RELEASED","STATE_READY","STATE_REFRESHING","STATE_LOADING","PULLDOWN_RELEASE_TIME","PullDownNativeScrollViewStrategy","inherit","_init","scrollView","callBase","_$topPocket","_$pullDown","_$refreshingText","_$scrollViewContent","content","_$container","container","_initCallbacks","pullDownCallbacks","releaseCallbacks","reachBottomCallbacks","render","_renderPullDown","_releaseState","$image","addClass","$loadContainer","$loadIndicator","$element","$text","_$pullDownText","_$pullingDownText","text","option","appendTo","_$pulledDownText","empty","append","_state","_refreshPullDownText","that","pullDownTextItems","element","visibleState","each","_","item","action","update","_setTopPocketOffset","_updateDimensions","_topPocketSize","get","clientHeight","contentEl","containerEl","_bottomBoundary","Math","max","_allowedDirections","allowedDirections","vertical","_pullDownEnabled","css","top","handleEnd","_complete","handleStop","_setPullDownOffset","clearTimeout","_pullDownRefreshTimeout","setTimeout","_pullDownRefreshing","bind","offset","move","handleScroll","e","currentLocation","location","scrollDelta","_location","_isPullDown","_pullDownReady","_isReachBottom","_reachBottom","_stateReleased","_reachBottomEnabled","round","floor","fire","removeClass","pullDownEnable","enabled","reachBottomEnable","pendingRelease","release","deferred","Deferred","_releaseTimeout","_updateAction","resolve","promise","dispose","_default","module"],"mappings":";;;;;AAAA;;;;AAEAA,UAAQC,OAAR,GAAkB,KAAK,CAAvB;AACA,MAAIC,YAAYC,uBAAuBC,WAAQ,qBAAR,CAAvB,CAAhB;AACA,MAAIC,aAAaF,uBAAuBC,WAAQ,4BAAR,CAAvB,CAAjB;AACA,MAAIE,cAAcF,WAAQ,4BAAR,CAAlB;AACA,MAAIG,gBAAgBJ,uBAAuBC,WAAQ,wBAAR,CAAvB,CAApB;AACA,MAAII,kBAAkBL,uBAAuBC,WAAQ,mBAAR,CAAvB,CAAtB;AACA,MAAIK,YAAYL,WAAQ,2BAAR,CAAhB;AACA,MAAIM,YAAYN,WAAQ,2BAAR,CAAhB;AACA,WAASD,sBAAT,CAAgCQ,GAAhC,EAAqC;AAAE,WAAOA,OAAOA,IAAIC,UAAX,GAAwBD,GAAxB,GAA8B,EAAEV,SAASU,GAAX,EAArC;AAAwD;AAC/F,MAAIE,uCAAuC,iCAA3C;AACA,MAAIC,kCAAkC,+BAAtC;AACA,MAAIC,kCAAkC,+BAAtC;AACA,MAAIC,sCAAsC,mCAA1C;AACA,MAAIC,iCAAiC,8BAArC;AACA,MAAIC,yCAAyC,sCAA7C;AACA,MAAIC,iBAAiB,CAArB;AACA,MAAIC,cAAc,CAAlB;AACA,MAAIC,mBAAmB,CAAvB;AACA,MAAIC,gBAAgB,CAApB;AACA,MAAIC,wBAAwB,GAA5B;AACA,MAAIC,mCAAmCjB,cAAcN,OAAd,CAAsBwB,OAAtB,CAA8B;AACnEC,WAAO,SAASA,KAAT,CAAeC,UAAf,EAA2B;AAChC,WAAKC,QAAL,CAAcD,UAAd;AACA,WAAKE,WAAL,GAAmBF,WAAWE,WAA9B;AACA,WAAKC,UAAL,GAAkBH,WAAWG,UAA7B;AACA,WAAKC,gBAAL,GAAwBJ,WAAWI,gBAAnC;AACA,WAAKC,mBAAL,GAA2B,CAAC,GAAG9B,UAAUD,OAAd,EAAuB0B,WAAWM,OAAX,EAAvB,CAA3B;AACA,WAAKC,WAAL,GAAmB,CAAC,GAAGhC,UAAUD,OAAd,EAAuB0B,WAAWQ,SAAX,EAAvB,CAAnB;AACA,WAAKC,cAAL;AACD,KATkE;AAUnEA,oBAAgB,SAASA,cAAT,GAA0B;AACxC,WAAKC,iBAAL,GAAyB,CAAC,GAAGhC,WAAWJ,OAAf,GAAzB;AACA,WAAKqC,gBAAL,GAAwB,CAAC,GAAGjC,WAAWJ,OAAf,GAAxB;AACA,WAAKsC,oBAAL,GAA4B,CAAC,GAAGlC,WAAWJ,OAAf,GAA5B;AACD,KAdkE;AAenEuC,YAAQ,SAASA,MAAT,GAAkB;AACxB,WAAKZ,QAAL;AACA,WAAKa,eAAL;AACA,WAAKC,aAAL;AACD,KAnBkE;AAoBnED,qBAAiB,SAASA,eAAT,GAA2B;AAC1C,UAAIE,SAAS,CAAC,GAAGzC,UAAUD,OAAd,EAAuB,OAAvB,EAAgC2C,QAAhC,CAAyC7B,+BAAzC,CAAb;AACA,UAAI8B,iBAAiB,CAAC,GAAG3C,UAAUD,OAAd,EAAuB,OAAvB,EAAgC2C,QAAhC,CAAyC5B,mCAAzC,CAArB;AACA,UAAI8B,iBAAiB,IAAItC,gBAAgBP,OAApB,CAA4B,CAAC,GAAGC,UAAUD,OAAd,EAAuB,OAAvB,CAA5B,EAA6D8C,QAA7D,EAArB;AACA,UAAIC,QAAQ,KAAKC,cAAL,GAAsB,CAAC,GAAG/C,UAAUD,OAAd,EAAuB,OAAvB,EAAgC2C,QAAhC,CAAyC3B,8BAAzC,CAAlC;AACA,WAAKiC,iBAAL,GAAyB,CAAC,GAAGhD,UAAUD,OAAd,EAAuB,OAAvB,EAAgCkD,IAAhC,CAAqC,KAAKC,MAAL,CAAY,iBAAZ,CAArC,EAAqEC,QAArE,CAA8EL,KAA9E,CAAzB;AACA,WAAKM,gBAAL,GAAwB,CAAC,GAAGpD,UAAUD,OAAd,EAAuB,OAAvB,EAAgCkD,IAAhC,CAAqC,KAAKC,MAAL,CAAY,gBAAZ,CAArC,EAAoEC,QAApE,CAA6EL,KAA7E,CAAxB;AACA,WAAKjB,gBAAL,GAAwB,CAAC,GAAG7B,UAAUD,OAAd,EAAuB,OAAvB,EAAgCkD,IAAhC,CAAqC,KAAKC,MAAL,CAAY,gBAAZ,CAArC,EAAoEC,QAApE,CAA6EL,KAA7E,CAAxB;AACA,WAAKlB,UAAL,CAAgByB,KAAhB,GAAwBC,MAAxB,CAA+Bb,MAA/B,EAAuCa,MAAvC,CAA8CX,eAAeW,MAAf,CAAsBV,cAAtB,CAA9C,EAAqFU,MAArF,CAA4FR,KAA5F;AACD,KA7BkE;AA8BnEN,mBAAe,SAASA,aAAT,GAAyB;AACtC,WAAKe,MAAL,GAActC,cAAd;AACA,WAAKuC,oBAAL;AACD,KAjCkE;AAkCnEA,0BAAsB,SAASA,oBAAT,GAAgC;AACpD,UAAIC,OAAO,IAAX;AACA,UAAIC,oBAAoB,CAAC;AACvBC,iBAAS,KAAKX,iBADS;AAEvBY,sBAAc3C;AAFS,OAAD,EAGrB;AACD0C,iBAAS,KAAKP,gBADb;AAEDQ,sBAAc1C;AAFb,OAHqB,EAMrB;AACDyC,iBAAS,KAAK9B,gBADb;AAED+B,sBAAczC;AAFb,OANqB,CAAxB;AAUA,OAAC,GAAGZ,UAAUsD,IAAd,EAAoBH,iBAApB,EAAuC,UAAUI,CAAV,EAAaC,IAAb,EAAmB;AACxD,YAAIC,SAASP,KAAKF,MAAL,KAAgBQ,KAAKH,YAArB,GAAoC,UAApC,GAAiD,aAA9D;AACAG,aAAKJ,OAAL,CAAaK,MAAb,EAAqBhD,sCAArB;AACD,OAHD;AAID,KAlDkE;AAmDnEiD,YAAQ,SAASA,MAAT,GAAkB;AACxB,WAAKvC,QAAL;AACA,WAAKwC,mBAAL;AACD,KAtDkE;AAuDnEC,uBAAmB,SAASA,iBAAT,GAA6B;AAC9C,WAAKzC,QAAL;AACA,WAAK0C,cAAL,GAAsB,KAAKzC,WAAL,CAAiB0C,GAAjB,CAAqB,CAArB,EAAwBC,YAA9C;AACA,UAAIC,YAAY,KAAKzC,mBAAL,CAAyBuC,GAAzB,CAA6B,CAA7B,CAAhB;AACA,UAAIG,cAAc,KAAKxC,WAAL,CAAiBqC,GAAjB,CAAqB,CAArB,CAAlB;AACA,WAAKI,eAAL,GAAuBC,KAAKC,GAAL,CAASJ,UAAUD,YAAV,GAAyBE,YAAYF,YAA9C,EAA4D,CAA5D,CAAvB;AACD,KA7DkE;AA8DnEM,wBAAoB,SAASA,kBAAT,GAA8B;AAChD,UAAIC,oBAAoB,KAAKnD,QAAL,EAAxB;AACAmD,wBAAkBC,QAAlB,GAA6BD,kBAAkBC,QAAlB,IAA8B,KAAKC,gBAAhE;AACA,aAAOF,iBAAP;AACD,KAlEkE;AAmEnEX,yBAAqB,SAASA,mBAAT,GAA+B;AAClD,WAAKvC,WAAL,CAAiBqD,GAAjB,CAAqB;AACnBC,aAAK,CAAC,KAAKb;AADQ,OAArB;AAGD,KAvEkE;AAwEnEc,eAAW,SAASA,SAAT,GAAqB;AAC9B,WAAKxD,QAAL;AACA,WAAKyD,SAAL;AACD,KA3EkE;AA4EnEC,gBAAY,SAASA,UAAT,GAAsB;AAChC,WAAK1D,QAAL;AACA,WAAKyD,SAAL;AACD,KA/EkE;AAgFnEA,eAAW,SAASA,SAAT,GAAqB;AAC9B,UAAI,KAAK5B,MAAL,KAAgBrC,WAApB,EAAiC;AAC/B,aAAKmE,kBAAL,CAAwB,KAAKjB,cAA7B;AACAkB,qBAAa,KAAKC,uBAAlB;AACA,aAAKA,uBAAL,GAA+BC,WAAW,YAAY;AACpD,eAAKC,mBAAL;AACD,SAFyC,CAExCC,IAFwC,CAEnC,IAFmC,CAAX,EAEjB,GAFiB,CAA/B;AAGD;AACF,KAxFkE;AAyFnEL,wBAAoB,SAASA,kBAAT,CAA4BM,MAA5B,EAAoC;AACtD,OAAC,GAAGvF,YAAYwF,IAAhB,EAAsB,KAAKjE,WAA3B,EAAwC;AACtCsD,aAAKU;AADiC,OAAxC;AAGA,OAAC,GAAGvF,YAAYwF,IAAhB,EAAsB,KAAK9D,mBAA3B,EAAgD;AAC9CmD,aAAKU;AADyC,OAAhD;AAGD,KAhGkE;AAiGnEE,kBAAc,SAASA,YAAT,CAAsBC,CAAtB,EAAyB;AACrC,WAAKpE,QAAL,CAAcoE,CAAd;;AAEA;AACA,UAAI,KAAKvC,MAAL,KAAgBpC,gBAApB,EAAsC;AACpC;AACD;AACD,UAAI4E,kBAAkB,KAAKC,QAAL,GAAgBf,GAAtC;AACA,UAAIgB,cAAc,CAAC,KAAKC,SAAL,IAAkB,CAAnB,IAAwBH,eAA1C;AACA,WAAKG,SAAL,GAAiBH,eAAjB;AACA,UAAI,KAAKI,WAAL,EAAJ,EAAwB;AACtB,aAAKC,cAAL;AACD,OAFD,MAEO,IAAIH,cAAc,CAAd,IAAmB,KAAKI,cAAL,EAAvB,EAA8C;AACnD,aAAKC,YAAL;AACD,OAFM,MAEA;AACL,aAAKC,cAAL;AACD;AACF,KAlHkE;AAmHnEJ,iBAAa,SAASA,WAAT,GAAuB;AAClC,aAAO,KAAKpB,gBAAL,IAAyB,KAAKmB,SAAL,IAAkB,KAAK9B,cAAvD;AACD,KArHkE;AAsHnEiC,oBAAgB,SAASA,cAAT,GAA0B;AACxC,aAAO,KAAKG,mBAAL,IAA4B9B,KAAK+B,KAAL,CAAW,KAAKhC,eAAL,GAAuBC,KAAKgC,KAAL,CAAW,KAAKR,SAAhB,CAAlC,KAAiE,CAApG;AACD,KAxHkE;AAyHnEI,kBAAc,SAASA,YAAT,GAAwB;AACpC,UAAI,KAAK/C,MAAL,KAAgBnC,aAApB,EAAmC;AACjC;AACD;AACD,WAAKmC,MAAL,GAAcnC,aAAd;AACA,WAAKiB,oBAAL,CAA0BsE,IAA1B;AACD,KA/HkE;AAgInEP,oBAAgB,SAASA,cAAT,GAA0B;AACxC,UAAI,KAAK7C,MAAL,KAAgBrC,WAApB,EAAiC;AAC/B;AACD;AACD,WAAKqC,MAAL,GAAcrC,WAAd;AACA,WAAKU,UAAL,CAAgBc,QAAhB,CAAyB9B,+BAAzB;AACA,WAAK4C,oBAAL;AACD,KAvIkE;AAwInE+C,oBAAgB,SAASA,cAAT,GAA0B;AACxC,UAAI,KAAKhD,MAAL,KAAgBtC,cAApB,EAAoC;AAClC;AACD;AACD,WAAKW,UAAL,CAAgBgF,WAAhB,CAA4BjG,oCAA5B,EAAkEiG,WAAlE,CAA8EhG,+BAA9E;AACA,WAAK4B,aAAL;AACD,KA9IkE;AA+InEiD,yBAAqB,SAASA,mBAAT,GAA+B;AAClD,UAAI,KAAKlC,MAAL,KAAgBpC,gBAApB,EAAsC;AACpC;AACD;AACD,WAAKoC,MAAL,GAAcpC,gBAAd;AACA,WAAKS,UAAL,CAAgBc,QAAhB,CAAyB/B,oCAAzB,EAA+DiG,WAA/D,CAA2EhG,+BAA3E;AACA,WAAK4C,oBAAL;AACA,WAAKrB,iBAAL,CAAuBwE,IAAvB;AACD,KAvJkE;AAwJnEE,oBAAgB,SAASA,cAAT,CAAwBC,OAAxB,EAAiC;AAC/C,UAAIA,OAAJ,EAAa;AACX,aAAK3C,iBAAL;AACA,aAAKD,mBAAL;AACD;AACD,WAAKa,gBAAL,GAAwB+B,OAAxB;AACD,KA9JkE;AA+JnEC,uBAAmB,SAASA,iBAAT,CAA2BD,OAA3B,EAAoC;AACrD,WAAKN,mBAAL,GAA2BM,OAA3B;AACD,KAjKkE;AAkKnEE,oBAAgB,SAASA,cAAT,GAA0B;AACxC,WAAKzD,MAAL,GAAcrC,WAAd;AACD,KApKkE;AAqKnE+F,aAAS,SAASA,OAAT,GAAmB;AAC1B,UAAIC,WAAW,IAAI1G,UAAU2G,QAAd,EAAf;AACA,WAAKhD,iBAAL;AACAmB,mBAAa,KAAK8B,eAAlB;AACA,UAAI,KAAK7D,MAAL,KAAgBnC,aAApB,EAAmC;AACjC,aAAKmC,MAAL,GAActC,cAAd;AACD;AACD,WAAKmG,eAAL,GAAuB5B,WAAW,YAAY;AAC5C,aAAKH,kBAAL,CAAwB,CAAxB;AACA,aAAKkB,cAAL;AACA,aAAKnE,gBAAL,CAAsBuE,IAAtB;AACA,aAAKU,aAAL;AACAH,iBAASI,OAAT;AACD,OANiC,CAMhC5B,IANgC,CAM3B,IAN2B,CAAX,EAMTrE,qBANS,CAAvB;AAOA,aAAO6F,SAASK,OAAT,EAAP;AACD,KApLkE;AAqLnEC,aAAS,SAASA,OAAT,GAAmB;AAC1BlC,mBAAa,KAAKC,uBAAlB;AACAD,mBAAa,KAAK8B,eAAlB;AACA,WAAK1F,QAAL;AACD;AAzLkE,GAA9B,CAAvC;AA2LA,MAAI+F,WAAWnG,gCAAf;AACAxB,UAAQC,OAAR,GAAkB0H,QAAlB;AACAC,SAAO5H,OAAP,GAAiBA,QAAQC,OAAzB;AACA2H,SAAO5H,OAAP,CAAeC,OAAf,GAAyBD,QAAQC,OAAjC","file":"ui.scroll_view.native.pull_down.js"}