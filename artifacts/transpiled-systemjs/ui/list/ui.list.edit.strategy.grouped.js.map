{"version":3,"sources":["../../../transpiled/ui/list/ui.list.edit.strategy.grouped.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_type","_iterator","_store_helper","_query","_uiCollection_widgetEditStrategy","obj","__esModule","LIST_ITEM_CLASS","LIST_GROUP_CLASS","SELECTION_SHIFT","SELECTION_MASK","combineIndex","indices","group","item","splitIndex","combinedIndex","GroupedEditStrategy","inherit","_groupElements","_collectionWidget","_itemContainer","find","_groupItemElements","$group","getIndexByItemData","itemData","groups","option","index","items","length","each","groupIndex","itemIndex","getItemDataByIndex","isNumeric","itemsGetter","resultItems","i","concat","push","deleteItemAtIndex","itemGroup","splice","getKeysByItems","plainItems","result","keyOf","getIndexByKey","key","that","itemKey","_equalKeys","_getGroups","dataController","_dataController","queryByOptions","toArray","getItemsByKeys","keys","_this","groupItemByKeyMap","getItemMeta","groupKey","_","itemMeta","selectedGroup","moveItemAtIndexToIndex","movingIndex","destinationIndex","movingIndices","destinationIndices","movingItemGroup","destinationItemGroup","movedItemData","_isItemIndex","_getNormalizedItemIndex","itemElement","$item","closest","_normalizeItemIndex","_denormalizeItemIndex","_getItemByNormalizedIndex","eq","_itemsFromSameParent","firstIndex","secondIndex","_default","module"],"mappings":"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","file":"ui.list.edit.strategy.grouped.js"}