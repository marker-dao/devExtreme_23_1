{"version":3,"sources":["../../../../../transpiled/__internal/grids/data_grid/grouping/module_core.js"],"names":["Object","defineProperty","exports","value","GroupingHelper","createOffsetFilter","_renderer","_interopRequireDefault","require","_class","_utils","_deferred","_module_core","obj","__esModule","default","path","storeLoadOptions","lastLevelOnly","groups","normalizeSortingInfo","group","filter","i","length","filterElement","j","selector","push","desc","currentFilter","combineFilters","inherit","findGroupInfoByKey","groupsInfo","key","hash","JSON","stringify","getGroupInfoIndexByOffset","offset","leftIndex","rightIndex","middleIndex","index","cleanGroupsInfo","groupIndex","groupsCount","children","calculateItemsCount","that","items","result","isGroupItemCountable","ctor","dataSourceAdapter","_dataSource","reset","_groupsInfo","_totalCountCorrection","totalCountCorrection","updateTotalItemsCount","item","_isVirtualPaging","isContinuation","scrollingMode","option","itemsCount","dataSource","groupCount","foreachGroups","callback","childrenAtFirst","foreachCollapsedGroups","updateOffsets","updateParentOffsets","foreachGroupsCore","parents","callbackResults","executeCallback","data","callbackResult","isExpanded","pop","currentParents","slice","when","apply","always","_updateGroupInfoOffsets","groupInfo","parentIndex","sort","a","b","findGroupInfo","pathIndex","addGroupInfo","groupInfoData","splice","allowCollapseAll","refresh","options","oldGroups","_group","Math","min","handleDataLoading","handleDataLoaded","callBase","handleDataLoadedCore"],"mappings":"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","file":"module_core.js"}