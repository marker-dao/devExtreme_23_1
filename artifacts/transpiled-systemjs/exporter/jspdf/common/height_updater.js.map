{"version":3,"sources":["../../../../transpiled/exporter/jspdf/common/height_updater.js"],"names":["exports","updateRowsAndCellsHeights","_type","require","_pdf_utils","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","doc","rows","rowsAdditionalHeights","calculateAdditionalRowsHeights","forEach","row","height","rowIndex","cells","cell","_cell$rowSpan","rowsCount","rowSpan","pdfCell","_rect","h","reduce","accumulator","rowInfo","sortedRows","sortRowsByMaxRowSpanAsc","cellsWithRowSpan","filter","isDefined","targetRectWidth","calculateTargetRectWidth","w","padding","textHeight","calculateTextHeight","text","font","wordWrapEnabled","cellHeight","top","bottom","currentRowSpanRowsHeight","delta","spanIndex","getMaxRowSpan","spansArray","map","_cell$rowSpan2","Math","max","apply","sortByMaxRowSpan","row1","row2","row1RowSpan","row2RowSpan","sort"],"mappings":"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","file":"height_updater.js"}