"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getMinimalAppointments = void 0;
var _type = require("../../../../../core/utils/type");
const getMinimalAppointments = (safeItems, _ref) => {
  let {
    dataAccessors
  } = _ref;
  return safeItems.map(rawAppointment => {
    const startDateMs = dataAccessors.get('startDate', rawAppointment).getTime();
    const startDateTimeZone = dataAccessors.get('startDateTimeZone', rawAppointment);
    const endDateMs = dataAccessors.get('endDate', rawAppointment).getTime();
    const endDateTimeZone = dataAccessors.get('endDateTimeZone', rawAppointment);
    const rawVisible = dataAccessors.get('visible', rawAppointment);
    const visible = (0, _type.isDefined)(rawVisible) ? Boolean(rawVisible) : true;
    return {
      allDay: dataAccessors.get('allDay', rawAppointment),
      startDateTimeZone,
      endDateTimeZone,
      source: {
        startDate: startDateMs,
        endDate: endDateMs
      },
      recurrenceRule: dataAccessors.get('recurrenceRule', rawAppointment),
      recurrenceException: dataAccessors.get('recurrenceException', rawAppointment),
      hasRecurrenceRule: dataAccessors.isRecurrent(rawAppointment),
      visible,
      disabled: dataAccessors.get('disabled', rawAppointment),
      itemData: rawAppointment
    };
  });
};
exports.getMinimalAppointments = getMinimalAppointments;